if (self.CavalryLogger) { CavalryLogger.start_js(["+faF1"]); }

__d("displayCommentsConnectionCountUpdater",["FBLogger","forEachUFI2DisplayCommentsConnection"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();var c=a.feedbackId;a.feedbackSource;var d=a.modifier,e=a.store,f=a.topLevelFeedbackId,g=a.totalCommentCountModifier;function h(a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",f||c||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(c||"UNKNOWN")+", comments_count_modifier;"+(g||d)+", conn_count_modifier;"+d).warn(a)}a=e.get(c);if(a==null){h("could not find feedback record");return}b("forEachUFI2DisplayCommentsConnection")(e,a,function(a){var b=Math.max(0,Number(a.getValue("count"))+d);a.setValue(b,"count")});a=e.get(f||c);if(a==null){h("could not find top level feedback record");return}e=a.getLinkedRecord("top_level_comments");if(e==null){h("could not find top level comments");return}h=e.getValue("total_count");h=Math.max(0,Number(h)+(g||d));e.setValue(h,"total_count");e=a.getValue("comment_count_reduced");Number(e).toString()===e&&a.setValue(h.toString(),"comment_count_reduced")}g.decrement=function(a){return g(babelHelpers["extends"]({},a,{modifier:-1}))};g.increment=function(a){return g(babelHelpers["extends"]({},a,{modifier:1}))};e.exports=g}),null);
__d("getRenderableBodyFromCommentMessage",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();if(a==null)return a;var c=a.ranges==null?[]:a.ranges.filter(Boolean);return babelHelpers["extends"]({},a,{__typename:"TextWithEntities",ranges:c.map(function(a){__p&&__p();var c=b[a.entity.id];if(c){c=c.getData();var d=c.isWeak,e=c.type;c=c.uri;return babelHelpers["extends"]({},a,{entity:babelHelpers["extends"]({},a.entity,{__typename:e==null?"Actor":e.replace(/([A-Z])/g," $1").replace(/(\s+\w)/g,function(a,b){return b.toUpperCase()}).replace(/^./,function(a){return a.toUpperCase()}),url:c}),entity_is_weak_reference:!!d})}return null}).filter(Boolean)})}e.exports=a}),null);
__d("makeUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";var g=0;function a(a){return a!=null&&a.startsWith("client:")?a:a!=null?"client:"+a:"client:feedback_comment:"+g++}e.exports=a}),null);
__d("UFI2CreateCommentMutation",["invariant","Bootloader","ChannelClientID","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayModern","RelayRuntime","ServerTime","SiteData","TQBotDetection_ProductEnum","displayCommentsConnectionCountUpdater","forEachUFI2DisplayCommentsConnection","getRenderableBodyFromCommentMessage","gkx","makeUFI2ClientID","uuid","UFI2CreateCommentMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=b("RelayRuntime").applyOptimisticMutation,k=b("SiteData").pr,l=function(){return b("UFI2CreateCommentMutation.graphql")},m={};function n(a){__p&&__p();var c=b("uuid")();a.input.detection_analytics_data={detection_id:c,device_advertising_id:null,product_id:String(b("TQBotDetection_ProductEnum").FB_WEB_COMMENT)};var d=a.actorID,e=a.commentProfilePictureSizeDepth0,f=a.commentProfilePictureSizeDepth1,r=a.containerMapping,s=a.environment,t=a.entitiesByID,u=a.feedbackSource,v=a.focusCommentID,w=a.input,x=a.onCompleted,y=a.onError,z=a.topLevelFeedbackId,A=a.updater,B=a.useDefaultActor,C=b("makeUFI2ClientID")(a.clientID),D=a.retryID||C;r=babelHelpers["extends"]({},r,{commentProfilePictureSizeDepth0:e,commentProfilePictureSizeDepth1:f,feedbackSource:u,focusCommentID:v,input:babelHelpers["extends"]({},w,{actor_id:d,feedback_source:b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),u),idempotence_token:D,session_id:b("ChannelClientID").getID()}),isComet:b("gkx")("708253"),scale:k,useDefaultActor:B});var E=function(a){__p&&__p();return function(c){__p&&__p();var e=c.getRootField("comment_create");if(e){var f=e.getLinkedRecord("feedback_comment_edge");if(f){e=c.get(w.feedback_id);e!=null&&(b("forEachUFI2DisplayCommentsConnection")(c,e,function(a){i.insertEdgeBefore(a,f)}),A&&A(e,f))}}e=c.get(d);e||g(0,455,d);var h=c.get(D);h||g(0,456,D);h.setLinkedRecord(e,"author");h.setValue("ADD","optimistic_action");a&&a.toString?h.setValue(a.toString(),"optimistic_error"):h.setValue(!0,"is_locally_composed");h.setValue(C,"client_id");b("displayCommentsConnectionCountUpdater").increment({feedbackId:w.feedback_id,feedbackSource:u,store:c,topLevelFeedbackId:z})}},F={mutation:l,optimisticResponse:q(w,D,t),optimisticUpdater:E(),variables:r},G=null,H=h(s,babelHelpers["extends"]({},F,{onCompleted:function(a){p(a,F,c),o(a),x&&x(a)},onError:function(c){m[D]=function(){if(!m[D]){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",D).warn("Tried to call a create comment mutation retry handle that was already removed.");return}H&&H.dispose();H=null;n(babelHelpers["extends"]({},a,{retryID:D}));delete m[D]},H=j(s,babelHelpers["extends"]({},F,{optimisticResponse:q(w,D,t),optimisticUpdater:E(c)})),y&&y(c)},updater:function(a){__p&&__p();var c=a.getRootField("comment_create");c||g(0,457);var d=c.getLinkedRecord("feedback_comment_edge");d||g(0,458);c=d.getLinkedRecord("node");c||g(0,459);c.setValue(!0,"is_locally_composed");c.setValue(C,"client_id");b("displayCommentsConnectionCountUpdater").increment({feedbackId:w.feedback_id,feedbackSource:u,store:a,topLevelFeedbackId:z});c=a.get(w.feedback_id);c!=null&&(b("forEachUFI2DisplayCommentsConnection")(a,c,function(a){i.insertEdgeBefore(a,d)}),A&&A(c,d))}}));return{dispose:function(){G&&G.remove(),G=null,H&&H.dispose(),H=null,delete m[D]}}}function o(a){var c=(a=a.comment_create)==null?void 0:(a=a.survey_primer_attributes)==null?void 0:a.ajaxify;c&&b("Bootloader").loadModules(["AsyncRequest"],function(a){new a(c).send()},"UFI2CreateCommentMutation")}function p(a,c,d){((c=a.comment_create)==null?void 0:c.detection_analytics_enabled)&&b("Bootloader").loadModules(["FBSiteWhiteOps"],function(a){a.log(d,b("TQBotDetection_ProductEnum").FB_WEB_COMMENT,"COMMENT"),a.appendToWindow(d,"FACEBOOK","COMMENT")},"UFI2CreateCommentMutation")}function q(a,c,d){return{comment_create:{feedback_comment_edge:{cursor:null,node:{__typename:"Comment",attachments:[],created_time:Math.round(b("ServerTime").getMillis()/1e3),feedback:{edges:[]},id:c,preferred_body:b("getRenderableBodyFromCommentMessage")(a.message,d),spam_display_mode:"none",timestamp_in_video:(d=(c=a.vod_video_timestamp)!=null?c:a.live_video_timestamp)!=null?d:null}}}}}function a(a){var c=m[a];if(!c){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a).warn("No comment create mutation retry handler found.");return null}return c}e.exports={commit:n,getRetryFn:a}}),null);
__d("UFI2CommentErrorFooter.react",["cx","fbt","FBLogger","React","RelayModern","UFI2CreateCommentMutation","ifRequired","UFI2CommentErrorFooter_comment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c=a.comment.id;if(!c){b("FBLogger")("ufi2").mustfix("UFI2CommentErrorFooter tried to render without a comment ID");return null}var d=h._("\u062a\u0639\u0630\u0651\u0631  \u0646\u0634\u0631 \u0627\u0644\u062a\u0639\u0644\u064a\u0642."),e=null;switch(a.comment.optimistic_action){case"ADD":e=b("UFI2CreateCommentMutation").getRetryFn(c);break;case"EDIT":d=h._("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0639\u0644\u064a\u0642.");b("ifRequired")("UFI2EditCommentMutation",function(a){e=a.getRetryFn(c)},function(){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").mustfix("Edit mutation not present on edit error")});break;case"DELETE":d=h._("\u0644\u0627 \u064a\u0645\u0643\u0646 \u062d\u0630\u0641 \u0627\u0644\u062a\u0639\u0644\u064a\u0642.");break;default:d=h._("\u062d\u062f\u062b \u062e\u0637\u0623."),b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("UFI2CommentErrorFooter no specified behavior for action `%s`.",a.comment.optimistic_action)}e||b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("No mutation retry handler for action `%s`.",a.comment.optimistic_action);return b("React").createElement("div",{className:"_1m2l","data-testid":"UFI2CommentErrorFooter/root"},e?h._("{errorMessage} {retryLink}",[h._param("errorMessage",d),h._param("retryLink",b("React").createElement("a",{href:"#",onClick:e,role:"button"},h._("\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629")))]):d)}a.displayName="UFI2CommentErrorFooter";e.exports=c(a,{comment:function(){return b("UFI2CommentErrorFooter_comment.graphql")}})}),null);
__d("UFI2PrivateReplyLink.react",["fbt","invariant","ActorURI","Bootloader","React","RelayModern","UFI2LinkWrapper.react","UFI2PrimerDialogWrapper.react","UFI2TooltipCometCompatWrapper.react","XPagesMessagingPrivateReplyDialogController","UFI2PrivateReplyLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i="private_reply",j=g._("\u0631\u0633\u0627\u0644\u0629");function a(a){__p&&__p();var c,d;if(!k(a))return null;var e=(c=a.feedback.page_private_reply)==null?void 0:c.status;if(e==null)return null;c=a.WrapperComponent;switch(e){case"REPLYABLE":var f=(d=a.feedback.page_private_reply)==null?void 0:(d=d.activity)==null?void 0:d.id,g=(d=a.feedback.page_private_reply)==null?void 0:(d=d.activity)==null?void 0:d.type,i=(d=a.feedback.page_private_reply)==null?void 0:(d=d.page)==null?void 0:d.id,j=(d=a.feedback.page_private_reply)==null?void 0:d.should_show_private_reply_nux;f!=null||h(0,5847);i!=null||h(0,5848);return b("React").createElement(c,null,function(a){a=a.className;return b("React").createElement(n,{activityID:f,activityType:g,className:a,pageID:i,shouldShowPrivateReplyNux:j})});case"ALREADY_REPLIED":var l=(d=a.feedback.page_private_reply)==null?void 0:d.permalink;return l==null?null:b("React").createElement(c,null,function(c){c=c.className;return b("React").createElement(o,{className:c,permalink:l,seeResponseLabel:a.seeResponseLabel})});default:return b("React").createElement(c,{enabled:!1},function(c){var d;c=c.className;return b("React").createElement(p,{activityType:(d=a.feedback.page_private_reply)==null?void 0:(d=d.activity)==null?void 0:d.type,className:c,status:e})})}}a.displayName="UFI2PrivateReplyLink";function k(a){var b,c;a=a.feedback;if(!a)return!1;b=(b=a.page_private_reply)==null?void 0:b.has_reply_permission;c=(c=a.viewer_current_actor)==null?void 0:c.id;a=(a=a.page_private_reply)==null?void 0:(a=a.page)==null?void 0:a.id;return b===!0&&c!=null&&c===a}function l(a){switch(a){case"COMMENT_PAGE_POST":case"COMMENT_WALL_POST":case"COMMENT_CUSTOMER_GROUP_USER_POST":case"COMMENT_REVIEW":return"comments";case"REVIEW":return"reviews";default:return"posts"}}var m=!1;function n(a){__p&&__p();var c=a.activityID,d=a.activityType,e=a.className,f=a.pageID;a=a.shouldShowPrivateReplyNux;var g=b("ActorURI").create(b("XPagesMessagingPrivateReplyDialogController").getURIBuilder().setString("activity_id",c).getURI(),f);a=a!=!1&&!m;a!=!1&&(m=!0);b("Bootloader").loadModules(["PagesLogger"],function(a){a.log(f,"impression","comment_message_button",null,["business_messaging_growth"],{activity_type:d,comment_id:c,messenger_entry_point:i})},"UFI2PrivateReplyLink.react");return b("React").createElement(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2LinkWrapper.react"),props:{children:b("React").createElement(b("React").Fragment,null,j,a===!0?b("React").createElement(q,null):null),className:e,href:g.toString(),onClick:function(){b("Bootloader").loadModules(["PagesLogger"],function(a){a.log(f,"click","comment_message_button",null,["business_messaging_growth"],{activity_type:d,comment_id:c,messenger_entry_point:i})},"UFI2PrivateReplyLink.react")},rel:"dialog"}})}function o(a){var c=a.className,d=a.permalink;a=a.seeResponseLabel;return b("React").createElement(b("UFI2LinkWrapper.react"),{className:c,href:d||"#"},a?g._("\u0639\u0631\u0636 \u0627\u0644\u0631\u062f"):j)}function p(a){__p&&__p();var c=a.activityType,d=a.className;a=a.status;var e;switch(a){case"EXPIRED":e=g._({"comments":"\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u0631\u062f \u0628\u0631\u0633\u0627\u0644\u0629 \u0639\u0644\u0649 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0627\u0644\u0623\u0642\u062f\u0645 \u0645\u0646 6 \u0634\u0647\u0648\u0631.","reviews":"\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u0625\u0631\u0633\u0627\u0644 \u0631\u062f \u0628\u0631\u0633\u0627\u0644\u0629 \u0639\u0644\u0649 \u0627\u0644\u0622\u0631\u0627\u0621 \u0627\u0644\u0623\u0642\u062f\u0645 \u0645\u0646 6 \u0634\u0647\u0648\u0631.","posts":"\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u0625\u0631\u0633\u0627\u0644 \u0631\u062f \u0628\u0631\u0633\u0627\u0644\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0634\u0648\u0631\u0627\u062a \u0627\u0644\u0623\u0642\u062f\u0645 \u0645\u0646 6 \u0634\u0647\u0648\u0631."},[g._enum(l(c),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case"NOT_USER_CREATED":e=g._("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0644\u0644\u0635\u0641\u062d\u0627\u062a \u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0626\u0644 \u062e\u0627\u0635\u0629 \u0625\u0644\u0649 \u0635\u0641\u062d\u0627\u062a \u0623\u062e\u0631\u0649.");break;case"CANNOT_MESSAGE":e=g._("This person can't receive a message reply from your Page.");break}a=b("React").createElement("span",{className:d},j);return e!=null?b("React").createElement(b("UFI2TooltipCometCompatWrapper.react"),{delayMountUntilHover:!0,tooltip:e},a):a}function q(){return null}d=c(a,{feedback:function(){return b("UFI2PrivateReplyLink_feedback.graphql")}});e.exports=d}),null);
__d("UFI2CommentPrivateReplyLink.react",["React","RelayModern","UFI2CommentActionLinks.react","UFI2PrivateReplyLink.react","UFI2CommentPrivateReplyLink_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem;function a(a){a.className;var c=a.feedback;a=a.seeResponseLabel;return b("React").createElement(b("UFI2PrivateReplyLink.react"),{WrapperComponent:function(a){a=a.children;return b("React").createElement(g,{key:"pageAdminPrivateReplyContext"},a({className:""}))},feedback:c,seeResponseLabel:a})}a.displayName="UFI2CommentPrivateReplyLink";d=c(a,{feedback:function(){return b("UFI2CommentPrivateReplyLink_feedback.graphql")}});e.exports=d}),null);
__d("UFI2CommentRow.react",["cx","fbt","requireDeferred","FlexibleBlock.react","Image.react","React","RelayModern","UFI2ProfileLinkDynamic.react","UFI2SilhouetteConfig","deferredLoadComponent","joinClasses","UFI2CommentRow_actor.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=b("deferredLoadComponent")(b("requireDeferred")("UFI2ActorPresenceProvider.react"));function a(a){__p&&__p();var c=a.actor,d=a.children,e=a.depth,f=a.displayPresence;f=f===void 0?!1:f;var g=a.isComposer;g=g===void 0?!1:g;a.relay;var j=a.showWarning;j=j===void 0?!1:j;a=babelHelpers.objectWithoutPropertiesLoose(a,["actor","children","depth","displayPresence","isComposer","relay","showWarning"]);var k=null;if(c){var l;l=e===0?(l=(l=c.profile_picture_depth_0)==null?void 0:l.uri)!=null?l:b("UFI2SilhouetteConfig").neutralSilhouette32:(l=(l=c.profile_picture_depth_1)==null?void 0:l.uri)!=null?l:b("UFI2SilhouetteConfig").neutralSilhouette20;var m=c.id;l=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{alt:c.name,className:"_3me-"+(e===0?" _3mf1":"")+(e===1?" _3mf2":""),src:l}),f&&m!=null?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("span",null)},b("React").createElement(i,{actorID:m},function(a){return a&&b("React").createElement("span",{className:"_6bi7"},b("React").createElement("span",{className:"accessible_elem"},h._("\u0646\u0634\u0637 \u0627\u0644\u0622\u0646")))})):null);f=b("joinClasses")((j?"_2nvx":"")+" _3mf5"+(e===0?" _3mg0":"")+(e===1?" _3mg1":""));k=m!=null?b("React").createElement(b("UFI2ProfileLinkDynamic.react"),{"aria-hidden":!0,className:f,href:c.www_url,tabIndex:-1,uid:m},l):b("React").createElement("span",{"aria-hidden":!0,className:f,onClick:a.onAvatarClick},l)}j=g?{}:{"aria-label":e===0?h._("\u062a\u0639\u0644\u064a\u0642"):h._("\u0631\u062f \u0639\u0644\u0649 \u0627\u0644\u062a\u0639\u0644\u064a\u0642"),role:"article"};return b("React").createElement(b("FlexibleBlock.react"),babelHelpers["extends"]({},j,a,{flex:b("FlexibleBlock.react").FLEX.right}),k,d)}a.displayName="UFI2CommentRow";e.exports=c(a,{actor:function(){return b("UFI2CommentRow_actor.graphql")}})}),null);
__d("UFI2CommentTopReactions.react",["cx","fbt","invariant","FBLogger","JSResource","React","RelayModern","UFI2AbstractButtonWrapper.react","UFI2PrimerDialogWrapper.react","UFI2Tooltip.react","UFIReactionIconImpl.react","UFIReactionsProfileBrowserUtils","getReactionKeyFromType","lazyLoadComponent","nullthrows","UFI2CommentTopReactions_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("lazyLoadComponent")(b("JSResource")("UFI2CommentReactionIconTooltipContentRenderer.react").__setRef("UFI2CommentTopReactions.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a,c){a=(c=a.node)==null?void 0:c.reaction_type;a||i(0,2434);c=b("getReactionKeyFromType")(a);return b("React").createElement(b("UFIReactionIconImpl.react"),{className:"_1lg-",key:"UFIReactionIcon:"+c,reaction:c})};d.render=function(){__p&&__p();var a=this,c,d=this.props,e=d.feedback;d=d.relay;var f=e.top_reactions,g=e.reactors;g=g==null?void 0:g.count_reduced;f=f==null?void 0:f.edges;f!=null||i(0,2435);if(f.length===0)return null;c=(c=(c=e.viewer_current_actor)==null?void 0:c.id)!=null?c:"0";if(g==null){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e.id||"UNKNOWN").mustfix("UFI2CommentTopReactions: Expected a reaction count");return null}f=f.slice(0,3);c=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:c,feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")});c=b("React").createElement(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2AbstractButtonWrapper.react"),props:babelHelpers["extends"]({},c,{"aria-label":h._("\u062a\u0639\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0634\u062e\u0627\u0635 \u0627\u0644\u0630\u064a\u0646 \u062a\u0641\u0627\u0639\u0644\u0648\u0627 \u0645\u0639 \u0647\u0630\u0627"),className:"_1lh9 _1lha",label:b("React").createElement(b("React").Fragment,null,f.map(function(b,c){return a.$1(b,c)}),b("React").createElement("span",{className:"_1lld",key:"count_reduced"},g)),role:"button"})});return b("React").createElement("span",{className:"_1lh3",ref:this.props.rootRef},b("React").createElement(b("UFI2Tooltip.react"),{alignH:"center",className:"_1lh7","data-testid":"UFI2CommentTopReactions/tooltip",environment:d.environment,tabIndex:-1,tooltipContentComponent:j,tooltipContentProps:{queryVariables:{feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")}}},c))};return c}(b("React").PureComponent);e.exports=a(c,{feedback:function(){return b("UFI2CommentTopReactions_feedback.graphql")}})}),null);
__d("UFI2CommentTopReactionsWrapper.react",["cx","CSS","DOMIntersection","React","RelayModern","UFI2CommentTopReactions.react","injectSubscriptionsHandler.react","intersectionObserverEntryIsIntersecting","observeIntersection","queryThenMutateDOM","UFI2CommentTopReactionsWrapper_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("DOMIntersection").isIntersecting;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=!1,d.$4=null,d.$5=null,d.$6=function(a){d.$1=a,a==null&&(d.$5=null),d.$7()},d.$8=function(a){d.$4!=a&&(d.$4=a,d.$2!=null&&(d.$2.remove(),d.$2=null),a&&(d.$2=b("observeIntersection")(a,function(a){d.$3=b("intersectionObserverEntryIsIntersecting")(a),d.$7()},{rootMargin:"1000px"}),d.props.subscriptionsHandler.addSubscriptions(d.$2)))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$7=function(){var a=this,c=this.props.avoidableElementBorderingBottom.current,d=this.$1,e=this.$4;if(this.$5!==null||!c||!d||!e||!this.$3)return;var f=!1;this.props.subscriptionsHandler.addSubscriptions(b("queryThenMutateDOM")(function(){f=h(c,e)},function(){f!==a.$5&&(f===!0&&b("CSS").addClass(d,"_680_"),b("CSS").removeClass(d,"invisible_elem"),a.$5=f,a.$2!=null&&(a.$2.remove(),a.$2=null))},"UFI2CommentTopReactionsWrapper_"+(this.props.feedback.id||"UNKNOWN")))};d.componentDidUpdate=function(){this.$7()};d.render=function(){var a;return b("React").createElement("div",{className:"_680y"},b("React").createElement("div",{className:"_6cuy"},this.props.children),((a=this.props.feedback.reactors)==null?void 0:a.count)?b("React").createElement("div",{className:"_6cuq invisible_elem",ref:this.$6},b("React").createElement(b("UFI2CommentTopReactions.react"),{feedback:this.props.feedback,rootRef:this.$8})):null)};return c}(b("React").Component);c.displayName="UFI2CommentTopReactionsWrapper";e.exports=a(b("injectSubscriptionsHandler.react")(c),{feedback:function(){return b("UFI2CommentTopReactionsWrapper_feedback.graphql")}})}),null);
__d("UFI2CommentTranslateAllButton.react",["cx","fbt","React","UFI2LinkWrapper.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("UFI2LinkWrapper.react"),{className:"_6srr",onClick:a.onClick},h._("\u062a\u0631\u062c\u0645\u0629 \u0643\u0644 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a"))}e.exports=a}),null);
__d("UFI2DebugLog",["CircularBuffer","UFI2Logger","UFIVersion","gkx","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("CircularBuffer"))(200);function h(a){return g.read().filter(function(b){return b.topLevelFeedbackTargetID===a})}a=b("gkx")("678290")?{dumpToScuba:function(a,c){var d=JSON.stringify(h(a));b("UFI2Logger").log({debugLogDump:d,errorIdentifier:c,eventName:"debug_log_dump",feedbackTargetID:a,version:b("UFIVersion").RELAY})},log:function(a){a=babelHelpers["extends"]({},a,{timestamp:b("performanceNow")()});g.write(a)}}:{dumpToScuba:function(a,b){},log:function(a){}};e.exports=a}),null);
__d("UFI2CommentsListState",["invariant","ErrorUtils","FBLogger","UFI2DebugLog","gkx","objectKeys"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;if(b===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function i(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function j(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function k(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function l(a){var c=a.commentsByID;a=babelHelpers.objectWithoutPropertiesLoose(a,["commentsByID"]);return babelHelpers["extends"]({commentIDs:c==null?null:b("objectKeys")(c)},a)}function m(a){if(a.commentsByID){var c=a.commentsByID,d=babelHelpers.objectWithoutPropertiesLoose(a,["commentsByID"]);return babelHelpers["extends"]({commentIDs:b("objectKeys")(c)},d)}else return babelHelpers["extends"]({commentIDs:[]},a)}function n(a,c){var d=o(a,c);a.__type!=="INITIAL_STATE"&&(c!=null||g(0,5935),b("UFI2DebugLog").log({actionArgs:m(a.args),actionType:a.__type,depth:a.args.depth,feedbackTargetID:c.feedbackTargetID,name:"UFI2CommentsProvider state transition",nextState:l(d),previousState:l(c),topLevelFeedbackTargetID:c.topLevelFeedbackTargetID}));return d}function o(a,c){__p&&__p();if(a.__type==="INITIAL_STATE"){var d=a.args,e=d.afterCount,f=d.beforeCount,l=d.canViewerComment,m=d.commentsByID,n=d.commentIDs,o=d.feedbackTargetID,p=d.hasNext,r=d.hasPrevious,v=d.hiddenCommentIDs,x=d.initiallyExpanded,y=d.pageSize,z=d.shouldRenderComposerPreemptively,A=d.topLevelFeedbackTargetID;d=d.totalCount;y={backward:x?h({count:f,direction:"backward",error:null,hasMore:r,isLoading:!1,pageSize:y,totalCount:d}):null,forward:x?h({count:e,direction:"forward",error:null,hasMore:p,isLoading:!1,pageSize:y,totalCount:d}):null};var B={};v.forEach(function(a){B[a]="COLLAPSED"});v={canViewerComment:l,commentPages:n.length>0?[{__type:"COMMENTS_PAGE",afterCount:e,beforeCount:f,commentIDs:n,hasNext:p,hasPrevious:r,state:"VISIBLE"}]:[],commentsByID:m,commentsHiddenByViewer:B,expanded:x,feedbackTargetID:o,hasPaged:{backward:!1,forward:!1},newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:y,shouldComposerRenderWhenListIsExpanded:z,topLevelFeedbackTargetID:A};if(a.args.depth===0)return babelHelpers["extends"]({},v,{__type:"DEPTH_0",status:{error:null,pending:!1}});l=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},v,{__type:"DEPTH_1",repliesCollapser:i({count:n.length,expanded:x,minCountToShowCollapser:l}),repliesExpander:j({error:null,expanded:x,isLoading:!1,totalCount:d})})}c!=null||g(0,5935);switch(a.__type){case"COLLAPSE_LIST":e=a.args;f=e.depth;p=e.totalCount;if(c.expanded===!1)return c;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{expanded:!1});r=w.getCommentsCount({depth:f,state:c})===0;m=p>0&&r===!0;m&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): COLLAPSE_LIST: expected list not to be empty if connection is not empty");return babelHelpers["extends"]({},c,{expanded:!1,repliesCollapser:null,repliesExpander:j({error:c.repliesExpander?c.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:p})});case"DELETE_COMMENT":o=a.args;var C=o.commentID;y=o.depth;z=c.commentPages;var D=c.newCommentsPage;if(z.length===0&&D.commentIDs.length===0)return c;A=D.commentIDs.filter(function(a){return a!==C});v=w.getVisibleCommentsCount({depth:y,state:c});n=A.length<D.commentIDs.length;if(n){var E={};A.forEach(function(a){E[a]=D.visibleStates[a]});l=babelHelpers["extends"]({},D,{commentIDs:A,visibleStates:E});x=z.map(function(a){return k({direction:"backward",page:a})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:x,newCommentsPage:l});a.args.depth===1||g(0,5936);d=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:x,newCommentsPage:l,repliesCollapser:i({count:v-1,expanded:c.expanded,minCountToShowCollapser:d})})}var F=null,G=!1;e=z.map(function(a,b){__p&&__p();if(G)return k({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==C});if(c.length<a.commentIDs.length){G=!0;F=b;return babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&F!=null&&b<F?k({direction:"forward",page:a}):a}).filter(Boolean);if(G===!1){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried deleting a comment that isnt present");return c}if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e});a.args.depth===1||g(0,5936);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,repliesCollapser:i({count:v-1,expanded:c.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})});case"EXPAND_HIDDEN_COMMENTS":f=a.args.commentIDs;var H=c.commentsHiddenByViewer,I=babelHelpers["extends"]({},H);f.forEach(function(a){var c=H[a];if(c==null){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried expanding a comment that is not hidden");return}c==="COLLAPSED"&&(I[a]="EXPANDED")});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:I}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:I});case"EXPAND_LIST":r=a.args;m=r.depth;p=r.totalCount;o=c.commentPages;y=c.newCommentsPage;if(c.expanded===!0&&c.shouldComposerRenderWhenListIsExpanded===!0)return c;if(m===1&&w.isRepliesExpanderLoading({depth:m,state:c}))return c;if(p===0)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});n=w.getVisibleCommentsCount({depth:m,state:c});if(n===0){A=w.getCommentsCount({depth:m,state:c})===0;if(A)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:j({error:null,expanded:!1,isLoading:!0,totalCount:p})});x=o.length>0?o[0]:null;l=x!=null?[babelHelpers["extends"]({},x,{state:"VISIBLE"})].concat(o.slice(1)):o;var J={};y.commentIDs.forEach(function(a){J[a]="VISIBLE"});d=babelHelpers["extends"]({},y,{visibleStates:J});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:l,expanded:!0,newCommentsPage:d,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);z=(x!=null?x.commentIDs.length:0)+y.commentIDs.length;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:l,expanded:!0,newCommentsPage:d,repliesCollapser:i({count:z,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0})}if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:i({count:n,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});case"HIDE_COMMENTS":e=a.args.commentIDs;v=c.commentsHiddenByViewer;var K=babelHelpers["extends"]({},v);e.forEach(function(a){K[a]="LOCALLY_HIDDEN"});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:K}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:K});case"RECEIVE_COMMENTS_PAGE":f=c.commentPages;var L=c.newCommentsPage;r=c.pagers;m=a.args;var M=m.commentIDs;A=m.depth;p=m.direction;o=m.feedbackTargetID;x=m.hiddenCommentIDs;y=m.pageSize;l=L.commentIDs.filter(function(a){return!M.includes(a)});var N={};l.forEach(function(a){N[a]=L.visibleStates[a]});d=babelHelpers["extends"]({},L,{commentIDs:l,visibleStates:N});var O=new Set(f.reduce(function(a,b){return a.concat(b.commentIDs)},[]));z=M.filter(function(a){return!O.has(a)});p==="forward"&&a.args.hasNext===!0&&a.args.afterCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",o).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_next_page but after_count is 0");a.args.direction==="forward"&&a.args.hasNext===!1&&a.args.afterCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",o).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have next_page but after_count is > 0");a.args.direction==="backward"&&a.args.hasPrevious===!0&&a.args.beforeCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",o).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_previous_page but before_count is 0");a.args.direction==="backward"&&a.args.hasPrevious===!1&&a.args.beforeCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",o).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have previous_page but before_count is > 0");var P=w.isPagerLoading({depth:A,direction:p,state:c})===!0;n=A===1&&w.isRepliesExpanderLoading({depth:A,state:c});v=c.shouldComposerRenderWhenListIsExpanded===!0||P===!0||n===!0;var Q=babelHelpers["extends"]({},c.commentsHiddenByViewer);x.forEach(function(a){Object.prototype.hasOwnProperty.call(Q,a)||(Q[a]="COLLAPSED")});e=O.size;if(A===1&&a.args.direction==="forward"&&e===0){m=a.args;o=m.afterCount;p=m.hasNext;x={backward:null,forward:h({count:o,direction:"forward",error:null,hasMore:p,isLoading:!1,pageSize:y})};var R=c.expanded||n?"VISIBLE":"HIDDEN";e={__type:"COMMENTS_PAGE",afterCount:o,beforeCount:l.length,commentIDs:z,hasNext:p,hasPrevious:!1,state:R};l.forEach(function(a){N[a]=R});d=babelHelpers["extends"]({},L,{commentIDs:l,visibleStates:N});a.args.depth===1||g(0,5936);c.__type==="DEPTH_1"||g(0,5936);m=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e],commentsHiddenByViewer:Q,expanded:R==="VISIBLE",newCommentsPage:d,pagers:x,repliesCollapser:i({count:z.length,expanded:n,minCountToShowCollapser:m}),repliesExpander:n?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:v})}n===!0&&b("UFI2DebugLog").dumpToScuba(c.topLevelFeedbackTargetID,"UFI2CommentsList.updater(...): RECEIVE_COMMENTS_PAGE - Expected replies expander not to be loading if comment pages are available");n===!1||g(0,5937);o=f[0];p=f[f.length-1];e=w.getVisibleCommentsCount({depth:A,state:c});if(a.args.direction==="backward"){P&&o!=null&&(o.state==="VISIBLE"||g(0,5938));x=a.args;m=x.beforeCount;n=x.hasPrevious;A=m<=l.length;A&&(N={},d.commentIDs.forEach(function(a){N[a]=P?"VISIBLE":"HIDDEN"}),d=babelHelpers["extends"]({},d,{visibleStates:N}));x=m-d.commentIDs.length;l=babelHelpers["extends"]({},r,{backward:P?h({count:x,direction:"backward",error:null,hasMore:n&&!A,isLoading:!1,pageSize:y}):r.backward});x={__type:"COMMENTS_PAGE",afterCount:((x=o==null?void 0:o.afterCount)!=null?x:0)+((o=o==null?void 0:(x=o.commentIDs)==null?void 0:x.length)!=null?o:0),beforeCount:m,commentIDs:z,hasNext:!0,hasPrevious:n,state:P?"VISIBLE":"HIDDEN"};if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[x].concat(f),commentsHiddenByViewer:Q,newCommentsPage:d,pagers:l,shouldComposerRenderWhenListIsExpanded:v});a.args.depth===1||g(0,5936);o=a.args.minCountToShowCollapser;m=e+(x.state==="VISIBLE"?z.length:0)+(A&&P?d.commentIDs.length:0);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[x].concat(f),commentsHiddenByViewer:Q,newCommentsPage:d,pagers:l,repliesCollapser:i({count:m,expanded:c.expanded,minCountToShowCollapser:o}),shouldComposerRenderWhenListIsExpanded:v})}P&&p!=null&&(p.state==="VISIBLE"||g(0,5939));n=a.args;A=n.afterCount;x=n.hasNext;l=babelHelpers["extends"]({},r,{forward:P?h({count:A,direction:"forward",error:null,hasMore:x,isLoading:!1,pageSize:y}):r.forward});y={__type:"COMMENTS_PAGE",afterCount:A,beforeCount:((m=p==null?void 0:p.beforeCount)!=null?m:0)+((n=p==null?void 0:(o=p.commentIDs)==null?void 0:o.length)!=null?n:0),commentIDs:z,hasNext:x,hasPrevious:!0,state:P?"VISIBLE":"HIDDEN"};if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[].concat(f,[y]),commentsHiddenByViewer:Q,newCommentsPage:d,pagers:l,shouldComposerRenderWhenListIsExpanded:v});a.args.depth===1||g(0,5936);r=a.args.minCountToShowCollapser;A=y.state==="VISIBLE"?e+z.length:e;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[].concat(f,[y]),commentsHiddenByViewer:Q,newCommentsPage:d,pagers:l,repliesCollapser:i({count:A,expanded:c.expanded,minCountToShowCollapser:r}),shouldComposerRenderWhenListIsExpanded:v});case"RECEIVE_NEW_COMMENT":m=a.args;var S=m.commentID;p=m.depth;o=m.pageSize;n=m.prevTotalCount;x=m.totalCount;z=c.commentPages;e=c.expanded;f=c.newCommentsPage;y=c.pagers;d=w.getCommentsCount({depth:p,state:c})===0;l=Object.prototype.hasOwnProperty.call(f.visibleStates,S)||z.some(function(a){return a.commentIDs.includes(S)});if(l)return c;A=c.repliesExpander!=null?babelHelpers["extends"]({},c.repliesExpander,{count:Math.min(c.repliesExpander.count+1,x)}):null;if(z.length===0){v=babelHelpers["extends"]({},f,{commentIDs:[S].concat(f.commentIDs),visibleStates:babelHelpers["extends"]({},f.visibleStates,(r={},r[S]=e||p===1&&d&&n===0?"VISIBLE":"HIDDEN",r))});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",newCommentsPage:v});a.args.depth===1||g(0,5936);m=a.args.minCountToShowCollapser;l=d&&n===0?!0:e;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:l,newCommentsPage:v,repliesCollapser:i({count:v.commentIDs.length,expanded:e,minCountToShowCollapser:m}),repliesExpander:A,shouldComposerRenderWhenListIsExpanded:!0})}r=z[0];d=s(c);if(d&&t(c)){l=z.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})});m=babelHelpers["extends"]({},f,{commentIDs:[S].concat(f.commentIDs),visibleStates:babelHelpers["extends"]({},f.visibleStates,(v={},v[S]="VISIBLE",v))});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:l,newCommentsPage:m});a.args.depth===1||g(0,5936);v=a.args.minCountToShowCollapser;p=w.getVisibleCommentsCount({depth:p,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:l,newCommentsPage:m,repliesCollapser:i({count:p+1,expanded:e,minCountToShowCollapser:v}),repliesExpander:A,shouldComposerRenderWhenListIsExpanded:!0})}else if(d&&f.commentIDs.length===0){l=y.backward!=null?babelHelpers["extends"]({},y,{backward:babelHelpers["extends"]({},y.backward,{count:Math.min(y.backward.count+1,o)})}):y;m=r.commentIDs.length<o;if(m){p=[babelHelpers["extends"]({},r,{commentIDs:[S].concat(r.commentIDs)})].concat(z.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:p,pagers:l}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:p,pagers:l,repliesExpander:A})}e=[{__type:"COMMENTS_PAGE",afterCount:r.afterCount+r.commentIDs.length,beforeCount:0,commentIDs:[S],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},r,{beforeCount:1,hasPrevious:!0})].concat(z.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:e,pagers:l}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:e,pagers:l,repliesExpander:A})}else{v=x<=n;d=v?z:z.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})});m=y.backward!=null?babelHelpers["extends"]({},y,{backward:babelHelpers["extends"]({},y.backward,{count:v?y.backward.count:Math.min(y.backward.count+1,o)})}):y;r=babelHelpers["extends"]({},f,{commentIDs:[S].concat(f.commentIDs),visibleStates:babelHelpers["extends"]({},f.visibleStates,(p={},p[S]="HIDDEN",p))});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:d,newCommentsPage:r,pagers:m}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:d,newCommentsPage:r,pagers:m,repliesExpander:A})}case"RECEIVE_REFETCH_LIST":e=a.args.depth;l=c.feedbackTargetID;x=c.topLevelFeedbackTargetID;e===0||g(0,5940);w.isListLoading({depth:e,state:c})||g(0,5941);n=q.getInitialState(babelHelpers["extends"]({},a.args,{depth:0,initiallyExpanded:!0,feedbackTargetID:l,topLevelFeedbackTargetID:x}));n.__type==="DEPTH_0"||g(0,5940);return babelHelpers["extends"]({},n,{__type:"DEPTH_0",expanded:c.expanded,status:{error:null,pending:!1}});case"REQUEST_COMMENTS_PAGE":z=a.args;v=z.depth;o=z.direction;y=z.pageSize;f=c.commentPages;p=c.expanded;d=c.newCommentsPage;r=c.pagers;p||g(0,5942);w.isPagerLoading({depth:v,direction:o,state:c})&&g(0,5943);v===0&&(w.isListLoading({depth:v,state:c})&&g(0,5944));v===1&&(w.isRepliesExpanderLoading({depth:v,state:c})&&g(0,5945));if(o==="backward"){m=f.findIndex(function(a){return a.state==="VISIBLE"});A=-1;if(m>-1){e=f[m];e.hasPrevious===!1&&b("UFI2DebugLog").dumpToScuba(c.topLevelFeedbackTargetID,"UFI2CommentsList.updater(...): REQUEST_COMMENTS_PAGE - Can't request previous comments if there are no more comments available");e.hasPrevious===!0||g(0,5946);A=m-1}else m===-1&&f.length>0&&(A=0);l=f[A];x=s(c)&&u(c,"HIDDEN");if(l&&l.state==="HIDDEN"){n=[].concat(f);n[A]=babelHelpers["extends"]({},l,{state:"VISIBLE"});z=babelHelpers["extends"]({},r,{backward:h({count:l.beforeCount,direction:"backward",error:null,hasMore:l.hasPrevious,isLoading:!1,pageSize:y})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:n,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:z,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);p=a.args.minCountToShowCollapser;o=w.getVisibleCommentsCount({depth:v,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:n,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:z,repliesCollapser:i({count:o+l.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:p}),shouldComposerRenderWhenListIsExpanded:!0})}else if(x){var T={};d.commentIDs.forEach(function(a){T[a]="VISIBLE"});e=babelHelpers["extends"]({},d,{visibleStates:T});m=babelHelpers["extends"]({},r,{backward:null});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:e,pagers:m,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);A=a.args.minCountToShowCollapser;n=w.getVisibleCommentsCount({depth:v,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:e,pagers:m,repliesCollapser:i({count:n+e.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:A}),shouldComposerRenderWhenListIsExpanded:!0})}else{z=babelHelpers["extends"]({},r,{backward:babelHelpers["extends"]({},r.backward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:z}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:z})}}o=[].concat(f).reverse().findIndex(function(a){return a.state==="VISIBLE"});l=-1;if(o>-1){p=f.length-1-o;x=f[p];x.hasNext===!0||g(0,5946);l=p+1}else o===-1&&f.length>0&&(l=f.length-1);d=f[l];if(d&&d.state==="HIDDEN"){m=[].concat(f);m[l]=babelHelpers["extends"]({},d,{state:"VISIBLE"});n=babelHelpers["extends"]({},r,{forward:h({count:d.afterCount,direction:"forward",error:null,hasMore:d.hasNext,isLoading:!1,pageSize:y})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:m,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:n,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth===1||g(0,5936);e=a.args.minCountToShowCollapser;A=w.getVisibleCommentsCount({depth:v,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:m,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:n,repliesCollapser:i({count:A+d.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:e}),shouldComposerRenderWhenListIsExpanded:!0})}else{z=babelHelpers["extends"]({},r,{forward:babelHelpers["extends"]({},r.forward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:z}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:z})}case"REQUEST_REFETCH_LIST":x=a.args.depth;x===0&&c.__type==="DEPTH_0"||g(0,5940);w.isListLoading({depth:x,state:c})&&g(0,5941);return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":p=a.args.canViewerComment;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",canViewerComment:p}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",canViewerComment:p});case"SET_COMMENTS_BY_ID":o=a.args.commentsByID;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsByID:o}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsByID:o});case"SET_SERVER_COMMENT_ID":f=a.args;var U=f.clientCommentID,V=f.serverCommentID;l=c.commentPages;var W=c.newCommentsPage,X=!1,Y={};y=W.commentIDs.map(function(a){if(a===U){X=!0;Y[V]=W.visibleStates[a];return V}Y[a]=W.visibleStates[a];return a});if(X)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:y,visibleStates:Y})}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:y,visibleStates:Y})});v=l.map(function(a){if(X)return a;var b=a.commentIDs.map(function(a){if(a===U){X=!0;return V}return a});return X?babelHelpers["extends"]({},a,{commentIDs:b}):a});return!X?c:c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:v}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:v});case"UNHIDE_COMMENTS":m=a.args.commentIDs;n=c.commentsHiddenByViewer;var Z=babelHelpers["extends"]({},n);m.forEach(function(a){delete Z[a]});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:Z}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:Z});case"INITIAL_STATE":default:a.__type;throw new Error("UFI2CommentsListState: Invalid action type: "+a.__type)}}function p(a,c){__p&&__p();try{var d=n(a,c);return d}catch(f){d=b("ErrorUtils").normalizeError(f);d=d.message;var e=a.__type==="REQUEST_COMMENTS_PAGE"||a.__type==="RECEIVE_COMMENTS_PAGE"?a.args.direction:"Unknown";b("FBLogger")("ufi2").catching(f).addMetadata("UFI","COMMENTS_LIST_ACTION",a.__type).addMetadata("UFI","COMMENTS_LIST_DEPTH",""+a.args.depth).addMetadata("UFI","COMMENTS_LIST_DIRECTION",e).mustfix("UFI2CommentsListState.updater(...): "+d);b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&a.__type!=="SET_COMMENTS_BY_ID"&&console.groupEnd();if(!c)throw f;return c}}function a(a,b){return n(a,b)}function c(a,b){return n(a,b)}var q={collapseList:function(a){var b=a.args;a=a.state;return p({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return p({__type:"DELETE_COMMENT",args:b},a)},expandHiddenComments:function(a){var b=a.args;a=a.state;return p({__type:"EXPAND_HIDDEN_COMMENTS",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return p({__type:"EXPAND_LIST",args:b},a)},getInitialState:function(a){return p({__type:"INITIAL_STATE",args:a},null)},hideComments:function(a){var b=a.args;a=a.state;return p({__type:"HIDE_COMMENTS",args:b},a)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return p({__type:"RECEIVE_REFETCH_LIST",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return p({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return p({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return p({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setCommentsByID:function(a){var b=a.args;a=a.state;return p({__type:"SET_COMMENTS_BY_ID",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return p({__type:"SET_SERVER_COMMENT_ID",args:b},a)},unhideComments:function(a){var b=a.args;a=a.state;return p({__type:"UNHIDE_COMMENTS",args:b},a)}};function r(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}function s(a){var b=a.commentPages;a=a.newCommentsPage;b=b[0];return!b?a.commentIDs.length>0:b.beforeCount-a.commentIDs.length===0}function t(a){var b=a.commentPages;b=b[0];return!b?s(a)&&u(a,"VISIBLE"):s(a)&&b.state==="VISIBLE"&&u(a,"VISIBLE")}function u(a,b){var c=a.newCommentsPage;return c.commentIDs.every(function(a){return c.visibleStates[a]===b})}function v(a){var b=a.commentPages,c=a.newCommentsPage;return c.commentIDs.filter(function(a){return c.visibleStates[a]==="VISIBLE"}).concat(b.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]))}var w={canFetchInDirection:function(a){__p&&__p();var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=d.newCommentsPage,f=w.isPagerLoading({depth:b,direction:c,state:d});if(f)return!1;f=b===0&&w.isListLoading({depth:b,state:d});if(f)return!1;f=b===1&&w.isRepliesExpanderLoading({depth:b,state:d});if(f)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;f=a[0];a=a[a.length-1];b=w.getPagerCount({depth:b,direction:"backward",state:d});b=b===e.commentIDs.length&&u(d,"HIDDEN");return c==="backward"?f.state!=="HIDDEN"&&!b&&f.hasPrevious:a.state!=="HIDDEN"&&a.hasNext},getCommentsCount:function(a){a.depth;a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getCountForFetch:function(a){__p&&__p();var b=a.depth,c=a.direction,d=a.pageSize;a=a.state;c=w.getPagerCount({depth:b,direction:c,state:a});if(c!=null)return c;if(b===1){d!=null||g(0,5947);c=w.getRepliesExpanderCount({depth:b,state:a});if(c!=null)return Math.min(c,d)}return null},getHiddenStateForComment:function(a){var b=a.commentID;a.depth;a=a.state;a=a.commentsHiddenByViewer;return a[b]||null},getPagerCount:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleComments:function(a){__p&&__p();a.depth;a=a.state;var c=a.commentsByID,d=a.topLevelFeedbackTargetID,e=a.newCommentsPage;a=v(a);var f=a.map(function(a){var e=c[a];if(!e){b("UFI2DebugLog").dumpToScuba(d,"UFI2CommentsListState.getVisibleComments: Could not find comment locally");b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find comment locally: %s",a);return null}return e}).filter(Boolean);a.length>0&&f.length===0&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find ANY of the %s comments locally",a.length);return e.commentIDs.length>0?f.sort(function(a,b){return((b=b.created_time)!=null?b:0)-((b=a.created_time)!=null?b:0)}):f},getVisibleCommentsCount:function(a){a.depth;a=a.state;return v(a).length},getVisibleCommentsGroupedByCollapsedState:function(a){__p&&__p();var b=a.depth,c=a.reverse,d=a.shouldCollapseComment;a=a.state;b=w.getVisibleComments({depth:b,state:a});a=c?b.slice().reverse():b;return a.reduce(function(a,b){__p&&__p();var c=d(b)?"COLLAPSED":"VISIBLE";if(a.length===0)return[{comments:[b],state:c}];var e=a[a.length-1],f=e.comments[e.comments.length-1];if(!f)return a;f=e.state;if(f===c){e.comments.push(b);return a}return[].concat(a,[{comments:[b],state:c}])},[])},getVisibleCommentsWithHiddenCommentsCollapsed:function(a){var b=a.depth,c=a.reverse,d=a.state;return w.getVisibleCommentsGroupedByCollapsedState({depth:b,reverse:c,shouldCollapseComment:function(a){return w.getHiddenStateForComment({commentID:a.id,depth:b,state:d})==="COLLAPSED"},state:d})},hasLastPageLeftInDirection:function(a){a.depth;var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=r({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){a.depth;var b=a.direction,c=a.state;a=a.totalCount;c=r({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){a.depth;var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return w.getVisibleComments({depth:b,state:a}).length>0},isCommentHiddenByViewer:function(a){return w.getHiddenStateForComment(a)!=null},isComposerVisible:function(a){a.depth;a=a.state;return a.canViewerComment&&a.expanded&&a.shouldComposerRenderWhenListIsExpanded},isListExpanded:function(a){a.depth;a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b===1||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null}};e.exports={_updaterDepth0_DO_NOT_USE:a,_updaterDepth1_DO_NOT_USE:c,Selectors:w,StateUpdaters:q}}),null);
__d("UFI2CommentsListGetDerivedStateFromProps",["UFI2CommentsConfig","UFI2CommentsListState","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("UFI2CommentsListState").Selectors,h=b("UFI2CommentsListState").StateUpdaters;function i(a){var b=a.depth,c=a.feedback;a=a.topLevelFeedback;return b===0?Boolean(c.can_viewer_comment):a!=null&&a.can_viewer_comment===!0&&c!=null&&c.can_viewer_comment===!0}function a(a,c){__p&&__p();var d=c.mirroredProps;c=c.listState;if(d===a)return{listState:c,mirroredProps:d};var e=d.feedback,f=d.isRefetchingConnection,j=d.topLevelFeedback;d=d.totalCount;var k=a.feedback,l=a.commentIDs,m=a.commentsByID,n=a.connectionPageInfo,o=a.depth,p=a.hiddenCommentIDs,q=a.isRefetchingConnection,r=a.topLevelFeedback,s=a.shouldRenderComposerPreemptively,t=a.totalCount,u=a,v=n.afterCount,w=n.beforeCount,x=n.hasNext,y=n.hasPrevious;n=n.pageSize;var z=c;z=h.setCommentsByID({args:{commentsByID:m,depth:o},state:z});if(o===0&&g.isListLoading({depth:o,state:z})){c=f===!0&&q===!1;c&&l.length>0&&(z=h.receiveRefetchList({args:{afterCount:v,beforeCount:w,canViewerComment:i({depth:o,feedback:k,topLevelFeedback:r}),commentIDs:l,commentsByID:m,depth:o,hasNext:x,hasPrevious:y,hiddenCommentIDs:p,pageSize:n,shouldRenderComposerPreemptively:s,totalCount:t},state:z}));return{listState:z,mirroredProps:u}}f=a.newlyCreatedCommentIDs;q=a.newlyHiddenCommentIDs;c=a.newlyUnhiddenCommentIDs;v=a.commentIDsUpdatedToServerIDs;w=a.removedCommentIDs;l=i({depth:o,feedback:e,topLevelFeedback:j});m=i({depth:o,feedback:k,topLevelFeedback:r});v.length>0&&v.forEach(function(a){var b=a.clientID;a=a.serverID;z=h.setServerCommentID({args:{clientCommentID:b,depth:o,serverCommentID:a},state:z})});l!==m&&(z=h.setCanViewerComment({args:{canViewerComment:m,depth:o},state:z}));q.length>0&&(z=h.hideComments({args:{commentIDs:q,depth:o},state:z}));c.length>0&&(z=h.unhideComments({args:{commentIDs:c,depth:o},state:z}));if(f.length>0){x=a.connectionPageInfo.pageSize;for(var y=f.length-1;y>=0;y--){p=f[y];o===0?z=h.receiveNewComment({args:{commentID:p,depth:o,pageSize:x,prevTotalCount:d,totalCount:t},state:z}):z=h.receiveNewComment({args:{commentID:p,depth:o,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:x,prevTotalCount:d,totalCount:t},state:z})}}else w.length>0&&w.forEach(function(a){o===0?z=h.deleteComment({args:{commentID:a,depth:o},state:z}):z=h.deleteComment({args:{commentID:a,depth:o,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies},state:z})});return{listState:z,mirroredProps:u}}function c(a){var c=a.commentsByID,d=a.commentIDs,e=a.connectionPageInfo,f=e.afterCount,g=e.beforeCount,j=e.hasNext,k=e.hasPrevious;e=e.pageSize;var l=a.depth,m=a.feedback,n=a.hiddenCommentIDs,o=a.isInitiallyExpanded,p=a.shouldRenderComposerPreemptively,q=a.topLevelFeedback;a=a.totalCount;var r=i({depth:l,feedback:m,topLevelFeedback:q});g={afterCount:f,beforeCount:g,canViewerComment:r,commentIDs:d,commentsByID:c,feedbackTargetID:b("nullthrows")(m.id),hasNext:j,hasPrevious:k,hiddenCommentIDs:n,initiallyExpanded:o,pageSize:e,shouldRenderComposerPreemptively:p,topLevelFeedbackTargetID:(f=q==null?void 0:q.id)!=null?f:b("nullthrows")(m.id),totalCount:a};return l===0?h.getInitialState(babelHelpers["extends"]({},g,{depth:0})):h.getInitialState(babelHelpers["extends"]({},g,{depth:1,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies}))}e.exports={getCanViewerComment:i,getDerivedStateFromProps:a,getInitialState:c}}),null);
__d("isUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.startsWith("client:")}e.exports=a}),null);
__d("UFI2CommentsProviderState",["FBLogger","gkx","isUFI2ClientID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a!=null&&(a.is_locally_composed===!0||a.is_created_from_subscription===!0||a.optimistic_error!=null||a.optimistic_action!=null)}function h(a){return!a||a.spam_display_mode==null?!1:(a==null?void 0:a.spam_display_mode)!=="none"}function a(a){a=(a=a.feedback.display_comments)==null?void 0:a.before_count;return typeof a==="number"?a:null}function i(a){return a.filter(function(a){return b("isUFI2ClientID")(a)})}function j(a){__p&&__p();var c={};a=a?a.map(function(a){__p&&__p();if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null edge from comments connection.");return null}a=a.node;if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null comment from comments connection.");return null}var d=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);if(typeof d!=="string"||d==null){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received comment with null id from comments connection.");return null}c[d]=babelHelpers["extends"]({},a,{id:d});return d}).filter(Boolean):[];if(a.length>Object.keys(c).length){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received duplicate comments from comments connection");var d=new Set();return{commentIDs:a.filter(function(a){if(d.has(a))return!1;d.add(a);return!0}),commentsByID:c}}return{commentIDs:a,commentsByID:c}}function k(a,c){var d=Object.keys(a),e=Object.keys(c),f=d.length,g=e.length;if(g>=f)return[];e.every(function(b){return Object.prototype.hasOwnProperty.call(a,b)})||b("FBLogger")("ufi2").warn("UFI2CommentsProvider: Expected next comments to be a subset of previous comments when removing a comment");g=d.filter(function(a){return!Object.prototype.hasOwnProperty.call(c,a)});return g}function l(a,c,d,e){__p&&__p();var f=[];d=a.filter(function(a){return!b("isUFI2ClientID")(a)});var g=function(){__p&&__p();if(i){if(j>=h.length)return"break";a=h[j++]}else{j=h.next();if(j.done)return"break";a=j.value}var b=a,d=e[b],g=d&&d.client_id!=null?d.client_id:null;g!=null&&c.find(function(a){return a===g})&&f.push({clientID:g,serverID:b})};for(var h=d,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){d=g();if(d==="break")break}return f}function m(a,c,d){__p&&__p();if(d.length<=c.length)return[];var e=a[d[0]];if(!e){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Next most recent comment not found");return[]}e=c.filter(function(b){return g(a[b])});c=d.filter(function(b){return g(a[b])});d=c.length-e.length>0;if(!d)return[];if(e.length===0){c.length>1&&b("FBLogger")("ufi2").info("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Received more than 1 new comment in a single update");return c}var f=new Set(e);return c.filter(function(a){return!f.has(a)})}function n(a,b){return b.filter(function(b){b=a[b];return b!=null&&h(b)})}function o(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!1&&h(c)===!0})}function p(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!0&&h(c)===!1})}function c(a,c){__p&&__p();var d=a.depth,e=c.commentsByID,f=c.commentIDs;a=j(a.edges);var g=a.commentIDs;a=a.commentsByID;var h=f.length,q=c.clientCommentIDs,r=g.length,s=i(g),t=c.selectedViewOption;c=c.isRefetchingConnection;var u=n(a,g),v=o(e,a,g),w=p(e,a,g);q=l(g,q,s,a);var x=r>h;h=h>r;r=x?m(a,f,g):[];x=h&&!c;f=x?k(e,a):[];h={clientCommentIDs:s,commentIDs:g,commentIDsUpdatedToServerIDs:q,commentsByID:a,hiddenCommentIDs:u,isRefetchingConnection:c,newlyCreatedCommentIDs:r,newlyHiddenCommentIDs:v,newlyUnhiddenCommentIDs:w,removedCommentIDs:f,selectedViewOption:t};b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&(console.groupCollapsed("%cUFI2 Relay Comments Connection Update at depth "+d+":",";background-color:#75DBCD;color:#1F2D3D;opacity:0.7;font-weight:bold;"),console.groupEnd());return h}function d(a){a=a.edges;a=j(a);var b=a.commentIDs;a=a.commentsByID;var c=i(b),d=n(a,b);return{clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,hiddenCommentIDs:d,isRefetchingConnection:!1,newlyCreatedCommentIDs:[],newlyHiddenCommentIDs:[],newlyUnhiddenCommentIDs:[],removedCommentIDs:[],selectedViewOption:null}}e.exports={getBeforeCount:a,getClientCommentIDs:i,getCommentIDsUpdatedToServerIDs:l,getCommentsFromEdges:j,getDerivedStateFromProps:c,getHiddenCommentIDs:n,getInitialState:d,getNewlyCreatedCommentIDs:m,getNewlyHiddenCommentIDs:o,getNewlyUnhiddenCommentIDs:p,getRemovedCommentIDs:k}}),null);
__d("UFI2RelayConnectionRenderer.react",["invariant","React","RelayRuntime","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/readContext","react-relay/RelayContext"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayRuntime").ConnectionInterface;a=b("RelayRuntime").deepFreeze;var i=b("react-relay/RelayContext").assertRelayContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=!1;d.$2=!1;d.$6=function(a,b){if(!d.$7()||d.$1)return;d.$4("forward",a,b||{})};d.$8=function(a,b){if(!d.$9()||d.$2)return;d.$4("backward",a,b||{})};d.$7=function(){var a=d.props.connection;a=j(a);return a?a.hasNext:!1};d.$9=function(){var a=d.props.connection;a=j(a);return a?a.hasPrevious:!1};d.$5=function(a,b){a==="forward"?(d.$1=!0,d.forceUpdate(b)):a==="backward"&&(d.$2=!0,d.forceUpdate(b))};var e=i(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));d.state={mirroredRelayContext:e,prevProps:c,queryFetchers:{backward:new(b("react-relay/ReactRelayQueryFetcher"))(),forward:new(b("react-relay/ReactRelayQueryFetcher"))()}};return d}c.getDerivedStateFromProps=function(a,c){var d=i(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));if(c.prevProps.paginationQuery!==a.paginationQuery||c.mirroredRelayContext.environment!==d.environment||c.mirroredRelayContext.variables!==d.variables){c=c.queryFetchers;return{mirroredRelayContext:d,prevProps:a,queryFetchers:babelHelpers["extends"]({},c)}}return null};var d=c.prototype;d.componentDidUpdate=function(a,b){this.state.queryFetchers!==b.queryFetchers&&(b.queryFetchers.backward.dispose(),b.queryFetchers.forward.dispose())};d.componentWillUnmount=function(){var a=this.state.queryFetchers;a.backward.dispose();a.forward.dispose()};d.shouldComponentUpdate=function(a,b){return!0};d.$3=function(a,b){a==="forward"?(this.$1=!1,this.forceUpdate(b)):a==="backward"&&(this.$2=!1,this.forceUpdate(b))};d.$4=function(a,b,c){__p&&__p();var d=this,e=this.props,f=e.connection;e=e.paginationQuery;var h=this.state.queryFetchers;h=h[a];f=j(f);f||g(0,1775);var i=k(a,b,f,c);if(!i)return;b=this.state.mirroredRelayContext.environment;var l=c.onLoaded;f=b.unstable_internal;c=f.createOperationDescriptor;f=f.getRequest;f=f(e);e=c(f,i);var m=!1;try{var n=h.fetch({environment:b,onDataChange:function(b){__p&&__p();var c=b.error,e=b.snapshot;if(m)return;m=!0;if(c){l&&l({error:c,variables:i});return}if(!i)return;d.$3(a,function(){l&&l({data:e==null?void 0:e.data,variables:i})})},operation:e,preservePreviousReferences:!0});n?(m=!0,this.$3(a,function(){l&&l({data:n.data,variables:i})})):this.$5(a)}catch(a){l&&l({error:a,variables:i})}};d.render=function(){var a=this.props.connection;if(!a)return null;a=a.edges;a={edges:a,hasNext:this.$7(),hasPrevious:this.$9(),isLoadingNext:this.$1,isLoadingPrevious:this.$2,loadNext:this.$6,loadPrevious:this.$8};return this.props.children(a)};return c}(b("React").Component);function j(a){if(!a)return null;var b=h.get(),c=b.PAGE_INFO,d=b.HAS_NEXT_PAGE,e=b.HAS_PREV_PAGE,f=b.END_CURSOR;b=b.START_CURSOR;a=a[c];a||g(0,1776);return{backwardCursor:a[b],forwardCursor:a[f],hasNext:a[d],hasPrevious:a[e]}}function k(a,b,c,d){switch(a){case"backward":a=b;var e=c.backwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:null,before:e,first:null,last:a}):babelHelpers["extends"]({after:null,before:e,first:null,last:a},d.queryVariables);case"forward":e=b;a=c.forwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:a,before:null,first:e,last:null}):babelHelpers["extends"]({after:a,before:null,first:e,last:null},d.queryVariables);default:throw new Error("UFI2RelayConnectionRenderer: direction must be one of backward or forward")}}e.exports=c}),null);
__d("UFI2CommentsProvider.react",["invariant","requireDeferred","FBLogger","React","RelayModern","SiteData","UFI2CommentsConfig","UFI2CommentsProviderState","UFI2Config","UFI2DebugLog","UFI2RealtimeContainer.react","UFI2RelayConnectionRenderer.react","UFI2SurfaceContainerContext","gkx","nullthrows","UFI2CommentsProviderPaginationQuery.graphql","UFI2CommentsProviderReadCommentsPageQuery.graphql","UFI2CommentsProvider_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var h=b("SiteData").pr;d=b("UFI2CommentsProviderState").getDerivedStateFromProps;var i=b("UFI2CommentsProviderState").getInitialState,j=b("requireDeferred")("UFI2CreateCommentSubscription"),k=50,l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a){__p&&__p();var d,e;e=c.call(this,a)||this;e.context=null;e.state=i({edges:e.props.edges,feedback:e.props.feedback});e.$1=function(a){__p&&__p();var c=a.count,d=a.direction,f=a.onCommentsFetched;a=e.props;var g=a.displayCommentsContext,i=a.feedLocation,j=a.feedbackSource,k=a.focusCommentID,l=a.depth,m=a.feedback,n=a.isLoadingNext,o=a.isLoadingPrevious,p=a.loadNext,q=a.loadPrevious;a=a.useDefaultActor;var r=e.state.selectedViewOption;m=m.id;if(!m){b("FBLogger")("ufi2").mustfix("UFI2CommentsProvider: Cant fetch without a feedback id");return}if(d==="forward"&&n)return;if(d==="backward"&&o)return;o=babelHelpers["extends"]({},b("nullthrows")((n=e.context)==null?void 0:n.containerMapping),{commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,displayCommentsContextEnableComment:g==null?void 0:g.enableComment,displayCommentsContextIsAdPreview:g==null?void 0:g.isAdPreview,displayCommentsContextIsAggregatedShare:g==null?void 0:g.isAggregatedShare,displayCommentsContextIsStorySet:g==null?void 0:g.isStorySet,displayCommentsFeedbackContext:g==null?void 0:g.feedbackContext,feedLocation:i,feedbackID:m,feedbackSource:j,focusCommentID:k,includeNestedComments:l===0,isComet:b("gkx")("708253"),isInitialFetch:!1,scale:h,useDefaultActor:a,viewOption:r});if(d==="backward")q(c,{onLoaded:function(a){var b=a.error;a=a.variables;return e.$2({direction:d,error:b,onCommentsFetched:f,variables:a})},queryVariables:o});else if(d==="forward")p(c,{onLoaded:function(a){var b=a.error;a=a.variables;return e.$2({direction:d,error:b,onCommentsFetched:f,variables:a})},queryVariables:o});else throw new Error("UFI2CommentsProvider: Invalid direction")};e.$3=function(a){var c=e.state.commentsByID[a];if(c==null){b("FBLogger")("ufi2").warn("UFI2CommentsProvider: Could not find requested comment locally: %s",a);return null}return c};e.$6=function(a){__p&&__p();var c=a.onComplete;a=a.queryVariables;var d=e.props,f=d.displayCommentsContext,g=d.feedLocation,i=d.feedback,j=d.feedbackSource,k=d.focusCommentID,l=d.relay;d=d.useDefaultActor;var m=e.state.selectedViewOption;i=i.id;if(!i){b("FBLogger")("ufi2").mustfix("UFI2CommentsProvider: Cant refetch without a feedback id");return}var n=babelHelpers["extends"]({commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,displayCommentsContextEnableComment:f==null?void 0:f.enableComment,displayCommentsContextIsAdPreview:f==null?void 0:f.isAdPreview,displayCommentsContextIsAggregatedShare:f==null?void 0:f.isAggregatedShare,displayCommentsContextIsStorySet:f==null?void 0:f.isStorySet,displayCommentsFeedbackContext:f==null?void 0:f.feedbackContext,feedLocation:g,feedbackID:i,feedbackSource:j,focusCommentID:k,includeNestedComments:!0,isComet:b("gkx")("708253"),isInitialFetch:!1,scale:h,useDefaultActor:d,viewOption:m},b("nullthrows")((f=e.context)==null?void 0:f.containerMapping),a);e.setState({isRefetchingConnection:!0},function(){l.refetch(function(a){return babelHelpers["extends"]({},a,n)},null,function(a){return e.$5(a||null,c)})})};e.$7=function(a){var b=a.onComplete;a=a.viewOption;e.setState({selectedViewOption:a},function(){e.$6({onComplete:b,queryVariables:{}})})};e.$8=function(){__p&&__p();var a=e.props,c=a.depth,d=a.feedback,f=a.feedbackSource,g=a.focusCommentID,h=a.relay,i=a.useDefaultActor,k=d.id,l=d.subscription_target_id;if(c===1||!k||!l)return null;var m=!1,n={dispose:function(){m=!0}};j.load().then(function(a){if(m)return;n.dispose=a.subscribe({commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,containerMapping:b("nullthrows")((a=e.context)==null?void 0:a.containerMapping),environment:h.environment,feedbackSource:f,focusCommentID:g,subscriptionTargetID:l,topLevelFeedbackTargetID:k,useDefaultActor:i}).dispose})["catch"](function(a){return b("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to UFI2CreateCommentSubscription, this is probably because the arguments didn't line up with what we're expected or someone has been tinkering with its implementation")});return n};b("UFI2DebugLog").log({depth:a.depth,feedbackSource:a.feedbackSource,feedbackTargetID:(d=a.feedback)==null?void 0:d.id,name:"UFI2CommentsProviderInternal.constructor",topLevelFeedbackTargetID:(d=(d=a.topLevelFeedback)==null?void 0:d.id)!=null?d:(d=a.feedback)==null?void 0:d.id,viewOption:e.state.selectedViewOption});return e}var d=a.prototype;d.componentDidUpdate=function(a,c){b("UFI2DebugLog").log({depth:this.props.depth,feedbackSource:this.props.feedbackSource,feedbackTargetID:(a=this.props.feedback)==null?void 0:a.id,name:"UFI2CommentsProviderInternal.componentDidUpdate",topLevelFeedbackTargetID:(a=(c=this.props.topLevelFeedback)==null?void 0:c.id)!=null?a:(c=this.props.feedback)==null?void 0:c.id,viewOption:this.state.selectedViewOption})};d.componentWillUnmount=function(){var a;b("UFI2DebugLog").log({depth:this.props.depth,feedbackTargetID:(a=this.props.feedback)==null?void 0:a.id,name:"UFI2CommentsProviderInternal.componentWillUnmount",topLevelFeedbackTargetID:(a=(a=this.props.topLevelFeedback)==null?void 0:a.id)!=null?a:(a=this.props.feedback)==null?void 0:a.id})};d.$2=function(a){__p&&__p();var b=a.direction,c=a.error,d=a.onCommentsFetched;a=a.variables;if(c){d&&d({commentIDs:[],direction:b,error:c});return}c=this.props.relay.environment;var e=c.unstable_internal,f=e.createOperationDescriptor;e=e.getRequest;e=e(n);f=f(e,a);e=c.lookup(f.fragment).data;e=(f=e==null?void 0:(a=e.feedback)==null?void 0:(c=a.display_comments)==null?void 0:c.edges)!=null?f:[];a=e.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}).filter(Boolean);d&&d({commentIDs:a||[],direction:b,error:null})};d.$4=function(a){a=a.client_id||a.id;a!=null||g(0,398);return a};d.$5=function(a,b){this.setState({isRefetchingConnection:!1},function(){b&&b(a)})};d.render=function(){__p&&__p();var a,c,d=this.props,e=d.children,f=d.depth,g=d.feedback,h=d.hasNext,i=d.hasPrevious,j=d.isLoadingNext;d=d.isLoadingPrevious;var l=this.state,m=l.commentIDs,n=l.commentIDsUpdatedToServerIDs,o=l.commentsByID,p=l.hiddenCommentIDs,q=l.isRefetchingConnection,r=l.newlyCreatedCommentIDs,s=l.newlyHiddenCommentIDs,t=l.newlyUnhiddenCommentIDs,u=l.removedCommentIDs;l=l.selectedViewOption;a=Math.ceil(((a=(a=g.display_comments)==null?void 0:a.page_size)!=null?a:k)*(f>0?b("UFI2Config").legacyReplyFetchShortfallSimulationFactor:b("UFI2Config").legacyTopLevelFetchShortfallSimulationFactor));c={afterCount:(c=(c=g.display_comments)==null?void 0:c.after_count)!=null?c:0,beforeCount:(c=(c=g.display_comments)==null?void 0:c.before_count)!=null?c:0,hasNext:h,hasPrevious:i,pageSize:a};a=(i=(h=g.display_comments)==null?void 0:h.is_initially_expanded)!=null?i:!1;h=(i=(h=g.display_comments)==null?void 0:h.highlighted_comments)!=null?i:[];i=(i=(i=g.display_comments)==null?void 0:i.count)!=null?i:0;l=(l=l||((l=g.display_comments)==null?void 0:l.view_option))!=null?l:null;return b("React").createElement(b("UFI2RealtimeContainer.react"),{subscribe:this.$8},e({commentIDs:m,commentIDsUpdatedToServerIDs:n,commentsByID:o,connectionPageInfo:c,fetchComments:this.$1,getComment:this.$3,getCommentRenderingKey:this.$4,hiddenCommentIDs:p,highlightedComments:h,isFetchingNextComments:j,isFetchingPreviousComments:d,isInitiallyExpanded:a,isRefetchingConnection:q,newlyCreatedCommentIDs:r,newlyHiddenCommentIDs:s,newlyUnhiddenCommentIDs:t,refetchConnection:this.$6,removedCommentIDs:u,setViewOption:this.$7,shouldRenderComposerPreemptively:(m=(e=g.display_comments)==null?void 0:e.should_render_composer_preemptively)!=null?m:f===0,totalCount:i,viewOption:l}))};return a}(b("React").Component);l.displayName="UFI2CommentsProviderInternal";l.getDerivedStateFromProps=d;l.contextType=b("UFI2SurfaceContainerContext");function a(a){var c=a.feedback.display_comments;if(!c){var d;return(d=a.fallback)!=null?d:null}return b("React").createElement(b("UFI2RelayConnectionRenderer.react"),{connection:c,paginationQuery:m},function(c){return b("React").createElement(l,babelHelpers["extends"]({},a,c))})}a.displayName="UFI2CommentsProvider";a.defaultProps={depth:0};var m=function(){return b("UFI2CommentsProviderPaginationQuery.graphql")},n=function(){return b("UFI2CommentsProviderReadCommentsPageQuery.graphql")};e.exports=c(a,{feedback:function(){return b("UFI2CommentsProvider_feedback.graphql")}},m)}),null);
__d("UFI2CommentsList.react",["fbt","invariant","FBLogger","React","ReactDOM","RelayModern","SearchableEntry","SubscriptionsHandler","UFI2CommentsConfig","UFI2CommentsListGetDerivedStateFromProps","UFI2CommentsListState","UFI2CommentsProvider.react","debounce","emptyFunction","scrollIntoView","UFI2CommentsList_feedback.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=b("UFI2CommentsListGetDerivedStateFromProps").getCanViewerComment;d=b("UFI2CommentsListGetDerivedStateFromProps").getDerivedStateFromProps;var j=b("UFI2CommentsListGetDerivedStateFromProps").getInitialState,k=b("UFI2CommentsListState").Selectors,l=b("UFI2CommentsListState").StateUpdaters;function m(a,b){return(a=a.comment_composer_placeholder)!=null?a:b>0?g._("\u0627\u0643\u062a\u0628 \u0631\u062f\u064b\u0627..."):g._("\u0627\u0643\u062a\u0628 \u062a\u0639\u0644\u064a\u0642\u064b\u0627...")}var n=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a){__p&&__p();var d;d=c.call(this,a)||this;d.$1=null;d.$2=null;d.$3=new Map();d.$5={};d.$6=!1;d.$7=new(b("SubscriptionsHandler"))();d.state={listState:j(d.props),mirroredProps:d.props};d.$10=function(){var a=d.props,b=a.depth,c=a.totalCount;d.$11(function(a){return l.collapseList({args:{depth:b,totalCount:c},state:a})})};d.$12=function(a){__p&&__p();a=a.focusComposer;var c=d.props,e=c.depth,f=c.fetchComments,g=c.connectionPageInfo.pageSize,h=c.refetchConnection,i=c.totalCount;a&&(d.$6=!0);var j=!1;d.$11(function(a){__p&&__p();var c=e===0&&k.isListLoading({depth:e,state:a})||e===1&&k.isRepliesExpanderLoading({depth:e,state:a});if(c)return null;c=e===0?l.expandList({args:{depth:e,totalCount:i},state:a}):l.expandList({args:{depth:e,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,totalCount:i},state:a});if(e===0){a=k.isListLoading({depth:e,state:c});j=a;return c}a=k.isRepliesExpanderLoading({depth:e,state:c});j=a;return c},function(a){__p&&__p();if(!j)return;if(e===0){h({});return}a=k.getCountForFetch({depth:e,direction:"forward",pageSize:g,state:a});if(a==null)return;f({count:a,direction:"forward",onCommentsFetched:d.$13})})};d.$14=function(a){var b=d.props.depth;d.$11(function(c){return l.expandHiddenComments({args:{commentIDs:a,depth:b},state:c})})};d.$15=function(){var a=d.props,b=a.depth,c=a.feedback,e=a.feedbackSource,f=a.focusCommentID;a=a.useDefaultActor;c.id!=null||h(0,3323);return{feedback:c,feedbackSource:e,feedbackTargetID:c.id,focusCommentID:f,placeholder:m(c,b),useDefaultActor:a}};d.$16=function(a){__p&&__p();var b=d.props,c=b.depth,e=b.feedback,f=b.feedbackSource,g=b.getCommentRenderingKey,h=b.relay,j=b.topLevelFeedback,l=b.totalCount;b=b.useDefaultActor;var m=d.state.listState;h=h.environment;g=g(a);var n=j==null?void 0:j.id;h={Selectors:k,comment:a,depth:c,environment:h,feedback:e,feedbackSource:f,key:g,listState:m,onDeeplinkToComment:i({depth:c,feedback:e,topLevelFeedback:j})?function(){d.$17(a)}:null,onReplyToComment:i({depth:c,feedback:e,topLevelFeedback:j})?function(){__p&&__p();if(c!==0){var b;d.$2=null;var f=a.author;if(f&&f.id!==((b=e.viewer_current_actor)==null?void 0:b.id)){b=f.__typename;var g=f.id;f=f.name;if(b&&g&&f){var h=d.$1;g={authorId:g,authorIsWeakReference:Boolean(a.is_author_weak_reference),authorName:f,authorType:b};h?d.$18(g,h):d.$2=g}}}d.$19(a);d.$17(a)}:null,totalCount:l,useDefaultActor:b};return!n?h:babelHelpers["extends"]({},h,{topLevelFeedbackID:n})};d.$20=function(){var a=d.props,b=a.depth,c=a.feedback,e=a.feedbackSource,f=a.focusCommentID,g=a.topLevelFeedback;a=a.useDefaultActor;g=g==null?void 0:g.id;e={componentRef:b===0?d.$21:d.$22,feedback:c,feedbackSource:e,focusCommentID:f,placeholder:m(c,b),useDefaultActor:a};return!g?e:babelHelpers["extends"]({},e,{topLevelFeedbackID:g})};d.$24=function(){return d.$23("forward")};d.$25=function(){return d.$23("backward")};d.$26=function(){var a=d.props,b=a.depth,c=a.relay;a=a.totalCount;var e=d.state.listState;c=c.environment;return{Selectors:k,depth:b,environment:c,expandHiddenComments:d.$14,listState:e,totalCount:a}};d.$27=function(a){var c=d.props,e=c.depth,f=c.displayCommentsContext,g=c.feedLocation,i=c.feedback,j=c.feedbackSource,k=c.focusCommentID,l=c.getComment;c=c.useDefaultActor;e===0||h(0,3324);e=l(a);l=e&&e.feedback;e=b("React").createRef();d.$5[a]=e;l!=null||h(0,3325);return{depth:1,displayCommentsContext:f,feedLocation:g,feedback:l,feedbackSource:j,focusCommentID:k,listRef:e,topLevelFeedback:i,useDefaultActor:c}};d.$32=function(){return d.$28("forward")};d.$33=function(){return d.$28("backward")};d.$34=function(){var a=d.props,b=a.connectionPageInfo.pageSize,c=a.depth,e=a.relay;a=a.totalCount;var f=d.state.listState;e=e.environment;return{Selectors:k,depth:c,environment:e,listState:f,pageSize:b,totalCount:a}};d.$35=function(){var a=d.props,b=a.depth,c=a.relay;a=a.totalCount;var e=d.state.listState;c=c.environment;b===1||h(0,3326);return{Selectors:k,collapseList:d.$10,depth:b,environment:c,listState:e,totalCount:a}};d.$36=function(){var a=d.props,b=a.depth,c=a.highlightedComments,e=a.relay,f=a.totalCount;a=a.viewOption;var g=d.state.listState;e=e.environment;b===1||h(0,3327);return{Selectors:k,depth:b,environment:e,expandList:d.$12,highlightedComments:c,listState:g,onMouseEnter:function(){return d.$31("forward")},totalCount:f,viewOption:a}};d.$13=function(a){__p&&__p();var c=a.commentIDs,e=a.direction;a=a.error;if(a)return;a=d.props;var f=a.connectionPageInfo,g=a.depth,i=a.feedback,j=a.hiddenCommentIDs,k=a.totalCount,m=f.afterCount,n=f.beforeCount,o=f.hasNext,p=f.hasPrevious,q=f.pageSize,r=i.id;r!=null||h(0,3323);var s=!1;d.$11(function(a){s=!0;if(g===0)if(e==="backward")return l.receiveCommentsPage({args:{beforeCount:n,commentIDs:c,depth:g,direction:e,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:j,pageSize:q,totalCount:k},state:a});else return l.receiveCommentsPage({args:{afterCount:m,commentIDs:c,depth:g,direction:e,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:j,pageSize:q,totalCount:k},state:a});else if(e==="backward")return l.receiveCommentsPage({args:{beforeCount:n,commentIDs:c,depth:g,direction:e,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:j,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:q,totalCount:k},state:a});else return l.receiveCommentsPage({args:{afterCount:m,commentIDs:c,depth:g,direction:e,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:j,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:q,totalCount:k},state:a})},function(a){s&&d.$37(e)})};d.$38=function(){d.$4()};d.$39=function(){d.$4.reset()};d.$21=function(a){d.$1=a};d.$22=function(a){d.$21(a);if(a&&d.$2){var b=d.$2;d.$2=null;d.$18(b,a)}};d.$29=function(a){a=a?a.onCommentsRendered:void 0;d.$40("forward",a)};d.$30=function(a){a=a?a.onCommentsRendered:void 0;d.$40("backward",a)};d.$41=function(a){__p&&__p();var b=a.onComplete,c=a.viewOption;a=d.props;var e=a.depth,f=a.setViewOption;if(e===1){b&&b(null);return}var g=!1;d.$11(function(a){if(k.isListLoading({depth:e,state:a}))return null;g=!0;return l.requestRefetchList({args:{depth:e},state:a})},function(a){g?f({onComplete:b,viewOption:c}):b&&b(null)})};d.$42=function(a){a=a.focusComposer;var b=d.props.depth,c=d.state.listState;!k.isListExpanded({depth:b,state:c})?d.$12({focusComposer:a}):d.$10()};d.Actions={collapseList:d.$10,expandList:d.$12,loadNewerComments:d.$30,loadOlderComments:d.$29,setViewOption:d.$41,toggleList:d.$42};d.$4=b("debounce")(b("UFI2CommentsConfig").paginationPrefetchingStrategy==="no_prefetching"?b("emptyFunction"):function(){return d.$8("forward")},b("UFI2CommentsConfig").firstPagePreloadDelay,babelHelpers.assertThisInitialized(d),!0);d.$7.addSubscriptions(d.$4);return d}var d=a.prototype;d.componentDidUpdate=function(a,c){__p&&__p();a=this.props;c=a.depth;a=a.totalCount;var d=this.state.listState,e=k.hasVisibleComments({depth:c,state:d});e=e||a===0;a=c===0&&e&&!k.isListLoading({depth:c,state:d});d=c===1&&e;var f=this.$1;if(this.$6===!0&&f!=null&&(a||d)){this.$6=!1;e=b("ReactDOM").findDOMNode(f);if(e&&c===0){if(e instanceof Text){b("FBLogger")("ufi2").mustfix("The composer is a Text node! I don't know what happened but this is UNACCEPTABLE, we found this out because we were trying to scroll to this component. You can look into and possibly fix this issue by asserting the composerRef on UFI2CommentList is being set correctly");f.focus();return}b("scrollIntoView")(e,{behavior:"smooth",onScrollComplete:function(){return f.focus()},verticalAlign:"center"})}else f.focus()}};d.componentWillUnmount=function(){this.$7.release()};d.$9=function(a,b){var c=this.$3.get(a)||[];c.push(b);this.$3.set(a,c)};d.$8=function(a){var b=this.props,c=b.depth,d=b.fetchComments,e=b.connectionPageInfo.pageSize;b=b.totalCount;var f=this.state.listState;if(!k.canFetchInDirection({depth:c,direction:a,state:f,totalCount:b}))return;b=k.getCountForFetch({depth:c,direction:a,pageSize:e,state:f});if(b==null)return;d({count:b,direction:a,onCommentsFetched:this.$13})};d.$23=function(a){var b=this.props,c=b.depth,d=b.relay,e=b.totalCount;b=b.viewOption;d=d.environment;var f=this.state.listState;return{Selectors:k,depth:c,direction:a,environment:d,listState:f,totalCount:e,viewOption:b}};d.$28=function(a){var b=this,c=this.props,d=c.connectionPageInfo.pageSize,e=c.depth,f=c.totalCount;c=c.viewOption;var g=this.state.listState,h=a==="forward"?this.$29:this.$30;return{Selectors:k,depth:e,direction:a,listState:g,loadMoreComments:h,onMouseEnter:function(){return b.$31(a)},pageSize:d,totalCount:f,viewOption:c}};d.$31=function(a){b("UFI2CommentsConfig").paginationPrefetchingStrategy==="prefetch_enter_pager_1000ms_list"&&this.$8(a)};d.$19=function(a){var b=this.$1;b!=null&&b.execCommand({__type:"CreateReplyAssociation",commentBeingRepliedTo:a})};d.$17=function(a){__p&&__p();var b=this.props,c=b.depth,d=b.feedback;b=b.topLevelFeedback;d=i({depth:c,feedback:d,topLevelFeedback:b});if(!d)return;if(c===0){if(!a)return;d=((b=a.can_comment)==null?void 0:b.can_viewer_comment)===!0;if(d){c=a.id;b=c&&this.$5[c];b&&b.current&&b.current.$12({focusComposer:!0})}else{d=this.$1;d&&d.focus()}}else this.$12({focusComposer:!0})};d.$40=function(a,c){__p&&__p();var d=this,e=this.props,f=e.connectionPageInfo.pageSize,g=e.depth,h=e.fetchComments,i=!1;this.$11(function(c){var d=k.isPagerLoading({depth:g,direction:a,state:c})||g===0&&k.isListLoading({depth:g,state:c})||g===1&&k.isRepliesExpanderLoading({depth:g,state:c});if(d)return null;d=g===0?l.requestCommentsPage({args:{depth:0,direction:a,pageSize:f},state:c}):l.requestCommentsPage({args:{depth:1,direction:a,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:f},state:c});i=k.isPagerLoading({depth:g,direction:a,state:d});return d},function(b){if(!i){c&&c();return}b=k.getCountForFetch({depth:g,direction:a,pageSize:f,state:b});if(b==null)return;c!=null&&d.$9(a,c);h({count:b,direction:a,onCommentsFetched:d.$13})})};d.$18=function(a,c){var d=a.authorId,e=a.authorIsWeakReference,f=a.authorName;a=a.authorType;c.execCommand({__type:"PrefillMention",mentionableEntity:new(b("SearchableEntry"))({auxiliaryData:{authorativePerson:void 0,connectedPage:void 0,disableAutosuggest:void 0,renderType:e?"non_member":"member",verified:void 0,workForeignEntity:void 0,workUser:void 0},title:f,type:a==="User"?"user":"non_user",uniqueID:d})})};d.$37=function(a){__p&&__p();var b=this.$3.get(a)||[];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}this.$3["delete"](a)};d.$11=function(a,b){var c=this;this.setState(function(b){b=a(b.listState);return!b?null:{listState:b}},function(){return b&&b(c.state.listState)})};d.render=function(){var a=this.props,b=a.children,c=a.depth,d=a.getComment,e=a.isInitiallyExpanded,f=a.relay,g=a.totalCount;a=a.viewOption;var h=this.state.listState;f=f.environment;f={Actions:this.Actions,Selectors:k,environment:f,getComment:d,getCommentEditorProps:this.$15,getCommentProps:this.$16,getComposerProps:this.$20,getFilterWarningPropsForNewerComments:this.$25,getFilterWarningPropsForOlderComments:this.$24,getHiddenCommentsPlaceholderProps:this.$26,getPagerPropsForNewerComments:this.$33,getPagerPropsForOlderComments:this.$32,getPaginationProgressProps:this.$34,isInitiallyExpanded:e,listState:h,onCommentsListMouseEnter:this.$38,onCommentsListMouseLeave:this.$39,totalCount:g,viewOption:a};d=c===0?babelHelpers["extends"]({},f,{depth:0,getNestedCommentsListProps:this.$27}):babelHelpers["extends"]({},f,{depth:1,getRepliesCollapserProps:this.$35,getRepliesExpanderProps:this.$36});return b(d)};return a}(b("React").Component);n.displayName="UFI2CommentsListInternal";n.getDerivedStateFromProps=d;function a(a){var c=a.children,d=a.depth,e=a.displayCommentsContext,f=a.fallback,g=a.feedLocation,i=a.feedback,j=a.feedbackSource,k=a.focusCommentID,l=a.listRef,m=a.relay,o=a.topLevelFeedback,p=a.useDefaultActor;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","depth","displayCommentsContext","fallback","feedLocation","feedback","feedbackSource","focusCommentID","listRef","relay","topLevelFeedback","useDefaultActor"]);d===1&&(o!=null||h(0,3328));return b("React").createElement(b("UFI2CommentsProvider.react"),babelHelpers["extends"]({depth:d,displayCommentsContext:e,fallback:f,feedLocation:g,feedback:i,feedbackSource:j,focusCommentID:k,topLevelFeedback:o,useDefaultActor:p},a),function(a){return b("React").createElement(n,babelHelpers["extends"]({},a,{children:c,depth:d,displayCommentsContext:e,feedLocation:g,feedback:i,feedbackSource:j,focusCommentID:k,key:[j,k].join("_"),ref:l,relay:m,topLevelFeedback:o,useDefaultActor:p}))})}a.displayName="UFI2CommentsList";a.defaultProps={depth:0};f=c(a,{feedback:function(){return b("UFI2CommentsList_feedback.graphql")}});e.exports=f}),null);
__d("UFI2ViewOption",[],(function(a,b,c,d,e,f){"use strict";a={isChronologicalOrder:function(a){switch(a){case"RECENT_ACTIVITY":case"RANKED_THREADED":case"RANKED_UNFILTERED":case"LIVE_STREAMING":return!1}return!0}};e.exports=a}),null);
__d("getUFI2CommentsPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("\u0639\u0631\u0636 \u062a\u0639\u0644\u064a\u0642 \u0648\u0627\u062d\u062f");case"view_more":return g._("\u0639\u0631\u0636 \u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a");case"view_one_more":return g._("\u0639\u0631\u0636 \u062a\u0639\u0644\u064a\u0642 \u0648\u0627\u062d\u062f \u0625\u0636\u0627\u0641\u064a");case"view_more_explicit":return g._({"*":{"*":"\u0639\u0631\u0636 {count} \u062a\u0639\u0644\u064a\u0642 \u0625\u0636\u0627\u0641\u064a","_1":"\u0639\u0631\u0636 {count} \u0645\u0646 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0627\u0644\u0623\u062e\u0631\u0649"},"8":{"*":"\u0639\u0631\u0636 {count} \u062a\u0639\u0644\u064a\u0642\u064a\u0646 \u0625\u0636\u0627\u0641\u064a\u064a\u0646"},"20":{"*":"\u0639\u0631\u0636 {count} \u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629"},"12":{"*":"\u0639\u0631\u0636 {count} \u062a\u0639\u0644\u064a\u0642\u064b\u0627 \u0625\u0636\u0627\u0641\u064a\u064b\u0627"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("\u0639\u0631\u0636 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0627\u0644\u0633\u0627\u0628\u0642\u0629");case"view_previous_explicit":return g._({"*":{"*":"\u0639\u0631\u0636 {count} \u0645\u0646 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0627\u0644\u0633\u0627\u0628\u0642\u0629"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_all":default:return g._({"*":"\u0639\u0631\u0636 \u0643\u0644 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a ({count})"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2RepliesPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("\u0639\u0631\u0636 \u0631\u062f \u0648\u0627\u062d\u062f");case"view_more":return g._("\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0631\u062f\u0648\u062f");case"view_one_more":return g._("\u0639\u0631\u0636 \u0631\u062f \u0648\u0627\u062d\u062f \u0625\u0636\u0627\u0641\u064a");case"view_more_explicit":return g._({"*":{"*":"\u0639\u0631\u0636 {count} \u0645\u0646 \u0627\u0644\u0631\u062f\u0648\u062f \u0627\u0644\u0625\u0636\u0627\u0641\u064a\u0629","_1":"\u0639\u0631\u0636 {count} \u0631\u062f \u0622\u062e\u0631"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("\u0639\u0631\u0636 \u0627\u0644\u0631\u062f\u0648\u062f \u0627\u0644\u0633\u0627\u0628\u0642\u0629");case"view_previous_explicit":return g._({"*":{"*":"\u0639\u0631\u0636 {count} \u0645\u0646 \u0627\u0644\u0631\u062f\u0648\u062f \u0627\u0644\u0633\u0627\u0628\u0642\u0629"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_all":default:return g._({"*":"\u0639\u0631\u0636 \u0643\u0644 \u0627\u0644\u0631\u062f\u0648\u062f ({count})"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2PagerLabel",["invariant","UFI2ViewOption","getUFI2CommentsPagerLabel","getUFI2RepliesPagerLabel"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,g=a.pageSize,h=a.pagerCount,i=a.totalCount;a=a.viewOption;var j=c.getVisibleCommentsCount({depth:d,state:f});c=c.hasLastPageLeftInDirection({depth:d,direction:e,pageSize:g,state:f,totalCount:i});d=b("UFI2ViewOption").isChronologicalOrder(a);f=d&&e==="backward"||!d&&e==="forward";if(j===0)return h===1?"view_one":"view_all";else if(c&&h<=g)if(h===1)return"view_one_more";else return"view_more_explicit";if(f)return"view_more";else return"view_previous"}function a(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,i=a.totalCount,j=c.isPagerVisible({depth:d,direction:e,state:f});if(!j)return null;j=c.getPagerCount({depth:d,direction:e,state:f});j!=null||g(0,4513);c=h(babelHelpers["extends"]({},a,{pagerCount:j}));e=d>0;return e?b("getUFI2RepliesPagerLabel")({labelType:c,numCommentsToShow:j,numCommentsTotal:i}):b("getUFI2CommentsPagerLabel")({labelType:c,numCommentsToShow:j,numCommentsTotal:i})}e.exports=a}),null);
__d("UFI2CommentsPager.react",["React","TrackingNodes","UFI2CommentsPagerRenderer.react","UFICommonInteractionEvents","UFICommonInteractionLogger","getUFI2PagerLabel"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={pagerLabel:b("getUFI2PagerLabel")(d.props)},d.$1=function(){var a=d.props,c=a.depth;a=a.loadMoreComments;var e=b("UFICommonInteractionLogger").startInteraction(c===0?b("UFICommonInteractionEvents").UFI2_TOP_LEVEL_COMMENTS_PAGINATION:b("UFICommonInteractionEvents").UFI2_REPLY_COMMENTS_PAGINATION);a({onCommentsRendered:function(){return b("UFICommonInteractionLogger").endInteraction(e)}})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState;c=c.isPagerLoading({depth:d,direction:e,state:f});return!c?{pagerLabel:b("getUFI2PagerLabel")(a)}:null};var d=c.prototype;d.render=function(){var a=this.props,c=a.Selectors,d=a.className,e=a.depth,f=a.direction,g=a.linkClassName,h=a.listState,i=a.nestedPagerIconClassName;a=a.onMouseEnter;var j=this.state.pagerLabel;if(j==null)return null;c=c.isPagerLoading({depth:e,direction:f,state:h});f=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIEW_ALL_COMMENTS);return b("React").createElement(b("UFI2CommentsPagerRenderer.react"),{className:d,depth:e,isLoading:c,linkClassName:g,nestedPagerIconClassName:i,onClick:this.$1,onMouseEnter:a,trackingInfo:f},function(a){return b("React").createElement("span",{className:a},j)})};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2PaginationProgressIndicator.react",["cx","fbt","NumberFormat","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.Selectors,d=a.className,e=a.depth,f=a.listState,g=a.pageSize;a=a.totalCount;var i=c.hasMoreInDirection({depth:e,direction:"forward",state:f,totalCount:a});c=c.getVisibleCommentsCount({depth:e,state:f});return a>=g&&i?b("React").createElement("span",{className:b("joinClasses")("_3bu3",d)},h._("{number of comments displayed} \u0645\u0646 {total number of comments}",[h._param("number of comments displayed",b("NumberFormat").formatInteger(c)),h._param("total number of comments",b("NumberFormat").formatInteger(a))])):null};e.exports=a}),null);
__d("UFI2SubscriptionManager",["cancelIdleCallback","requestIdleCallbackAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new Set(),this.$2=new Set(),this.$3=!1}var c=a.prototype;c.add=function(a){var b=this;this.$1.add(a);this.$3&&a.subscribe();return{dispose:function(){a.unsubscribe(),b.$1&&b.$1["delete"](a)}}};c.subscribeAll=function(){__p&&__p();if(!this.$3){this.$3=!0;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.subscribe()}}};c.subscribeAllOnIdle=function(){__p&&__p();var a=this;if(!this.$3){this.$3=!0;var c=function(){__p&&__p();if(e){if(f>=d.length)return"break";g=d[f++]}else{f=d.next();if(f.done)return"break";g=f.value}var c=g,h=null;h=b("requestIdleCallbackAcrossTransitions")(function(){h!=null&&(a.$2["delete"](h),h=null),a.$3&&c.subscribe()});a.$2.add(h)};for(var d=this.$1,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g,h=c();if(h==="break")break}}};c.unsubscribeAll=function(){__p&&__p();if(this.$3){this.$3=!1;for(var a=this.$2,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("cancelIdleCallback")(e)}for(var e=this.$1,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;a=e[c++]}else{c=e.next();if(c.done)break;a=c.value}a=a;a.unsubscribe()}}};c.reset=function(){this.unsubscribeAll(),this.$1=new Set()};return a}();e.exports=a}),null);
__d("UFI2RealtimeRoot.react",["React","Run","UFI2RealtimeContext","UFI2SubscriptionManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=new(b("UFI2SubscriptionManager"))(),d.$2=null,d.$4=function(a){return d.$1.add(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){this.$2!=null&&(this.$2.remove(),this.$2=null),this.$1.unsubscribeAll()};d.subscribe=function(){this.props.enabled&&this.$1.subscribeAllOnIdle()};d.componentDidMount=function(){var a=this;this.$2=b("Run").onAfterLoad(function(){a.$2=null,a.subscribe()})};d.componentWillUnmount=function(){this.$3(),this.$1.reset()};d.render=function(){return b("React").createElement(b("UFI2RealtimeContext").Provider,{value:this.$4},this.props.children)};return c}(b("React").Component);a.defaultProps={enabled:!0};e.exports=a}),null);
__d("getFBTSafeGenderFromDisplayGender",["DisplayGenderConst","IntlVariations"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return b("IntlVariations").GENDER_UNKNOWN;switch(a){case b("DisplayGenderConst").MALE:return b("IntlVariations").GENDER_MALE;case b("DisplayGenderConst").FEMALE:return b("IntlVariations").GENDER_FEMALE;default:return b("IntlVariations").GENDER_UNKNOWN}}e.exports=a}),null);
__d("UFI2RepliesExpander.react",["cx","fbt","invariant","FBLogger","Image.react","Middot.react","NumberFormat","React","RelayModern","TrackingNodes","UFI2CommentsPagerRenderer.react","cometUseServerTime","getFBTSafeGenderFromDisplayGender","joinClasses","requireCond","cr:851885","UFI2RepliesExpander_highlightedComments.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c=a.Selectors,d=a.className,e=a.depth,f=a.expandList,g=a.listState,h=a.onMouseEnter,k=a.viewOption;e===1||i(0,2662);if(!c.isRepliesExpanderVisible({depth:e,state:g}))return null;var l=c.getRepliesExpanderCount({depth:e,state:g});if(l==null){b("FBLogger")("ufi2").warn("UFI2RepliesExpander: Tried rendering a visible replies expander without a count");return null}c=c.isRepliesExpanderLoading({depth:e,state:g});var m=a.highlightedComments||[];g=m[0];a=g==null?void 0:g.author;g=a!=null;a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIEW_ALL_COMMENTS);return b("React").createElement(b("UFI2CommentsPagerRenderer.react"),{className:b("joinClasses")(g?"_77bj":"",d),depth:e,isLoading:c,nestedPagerIconClassName:g?"_3eof":"",onClick:function(){return f({focusComposer:!0})},onMouseEnter:h,trackingInfo:a},function(a){return b("React").createElement(j,{count:l,highlightedComments:m,pagerTextClassName:a,viewOption:k})})}function j(a){var c=a.count,d=a.highlightedComments,e=a.pagerTextClassName;a=a.viewOption;d=d[0];var f=d==null?void 0:d.author,g=f!=null;d=d==null?void 0:d.created_time;c=h._({"*":{"*":"{count} \u0631\u062f"},"4":{"*":"\u0631\u062f \u0648\u0627\u062d\u062f"},"8":{"*":"\u0631\u062f\u0627\u0646"},"20":{"*":"{count} \u0631\u062f\u0648\u062f"},"12":{"*":"{count} \u0631\u062f\u064b\u0627"}},[h._param("count",b("NumberFormat").formatInteger(c),[0,c]),h._plural(c)]);var i=b("cometUseServerTime")();i=f!=null&&d!=null&&(i/1e3-d<43200||a==="RECENT_ACTIVITY");return b("React").createElement(b("React").Fragment,null,b("React").createElement("span",{className:e},g&&f?b("React").createElement(b("React").Fragment,null,b("React").createElement(k,{actor:f}),"\xa0",b("React").createElement(b("Middot.react"),null),"\xa0"):null,c),d!=null&&i?b("React").createElement(b("cr:851885"),{timestamp:d}):null)}function k(a){__p&&__p();var c;a=a.actor;if(a==null)return null;var d=a.name;if(!d)return null;c=(c=a.profile_picture)==null?void 0:c.uri;if(!c)return null;a=a.gender;a=b("getFBTSafeGenderFromDisplayGender")(a);return b("React").createElement("div",{className:"_3eog"},b("React").createElement("span",{className:"_3eoh"},b("React").createElement(b("Image.react"),{alt:d,className:"img _3eoi",src:c})),b("React").createElement("span",{className:"_3eol"},h._({"*":"\u062a\u0645 \u0627\u0644\u0631\u062f \u0628\u0648\u0627\u0633\u0637\u0629 {actor}"},[h._name("actor",d,a)])))}d=c(a,{highlightedComments:function(){return b("UFI2RepliesExpander_highlightedComments.graphql")}});d.PagerLabel=j;e.exports=d}),null);
__d("UFI2ActiveLayerMonitor",["ErrorUtils","Parent","SubscriptionsHandler","UserActivity","getDocumentScrollElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=!1,i=b("getDocumentScrollElement")(),j=[],k;function l(a){h=!0;j.push.apply(j,g);while(j.length){var c=j.shift();b("ErrorUtils").applyWithGuard(c,null,[a],null,"UFI2ActiveLayerMonitor")}h=!1}function m(a){i!==a&&(i=a,l(a))}a={getLastActiveLayer:function(){return i},subscribe:function(a){__p&&__p();g.push(a);h&&j.push(a);k==null&&(k=new(b("SubscriptionsHandler"))(),k.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;m(b("Parent").byClass(a.target,"uiLayer")||b("getDocumentScrollElement")())})));var c=!1;return{remove:function(){__p&&__p();if(c)return;var b=g.indexOf(a);b!==-1&&g.splice(b,1);if(h){b=j.indexOf(a);b!==-1&&j.splice(b,1)}g.length===0&&(k&&(k.release(),k=null));c=!0}}}};e.exports=a}),null);
__d("UFI2UserActivityIdleTimeout",[],(function(a,b,c,d,e,f){"use strict";e.exports=3e4}),null);
__d("UFI2UserActivityMonitor",["ErrorUtils","Event","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h,i=!1,j=b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",k=[],l;function m(a){i=!0;k.push.apply(k,g);var c=function(){var c=k.shift();b("ErrorUtils").applyWithGuard(function(){return c(a)},null,null,null,"UFI2UserActivityMonitor")};while(k.length)c();i=!1}function n(a){b("clearTimeout")(h),a>0&&(h=b("setTimeoutAcrossTransitions")(function(){o("INACTIVE")},a))}function o(a){j!==a&&m(a),j=a}a={getActivityState:function(){return b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE"},subscribe:function(a){__p&&__p();g.push(a);i&&k.push(a);l==null&&(n(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive()))),l=new(b("SubscriptionsHandler"))(),l.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&b("UserActivity").isOnTab()===!1)return;o("ACTIVE");n(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive())))}),b("Event").listen(window,"blur",function(){o("INACTIVE"),b("clearTimeout")(h)}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){o("INACTIVE"),b("clearTimeout")(h)})));var c=!1;return{remove:function(){__p&&__p();if(c)return;var d=g.indexOf(a);d!==-1&&g.splice(d,1);if(i){d=k.indexOf(a);d!==-1&&k.splice(d,1)}g.length===0&&(b("clearTimeout")(h),l&&(l.release(),l=null));c=!0}}}};e.exports=a}),null);
__d("getSharedStopwatch",["invariant","UFIStopWatch","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={};function a(a){__p&&__p();var c=b("uuid")();if(h[a]==null){var d=new(b("UFIStopWatch"))();h[a]={runningClientMap:{},stopwatch:d,totalClients:0}}h[a].totalClients+=1;var e=!1;function f(){e===!1||g(0,6067)}var i={dispose:function(){if(e)return;i.pause();h[a].totalClients-=1;h[a].totalClients===0&&delete h[a];e=!0},getMilliseconds:function(){f();return h[a].stopwatch.milliseconds()},isRunning:function(){f();return h[a].stopwatch.state()===b("UFIStopWatch").COUNTING},isSharedWithOtherClients:function(){f();return h[a].totalClients>1},pause:function(){f(),delete h[a].runningClientMap[c],Object.keys(h[a].runningClientMap).length===0&&h[a].stopwatch.pause()},start:function(){f(),h[a].runningClientMap[c]=!0,h[a].stopwatch.start()}};return i}e.exports=a}),null);
__d("onAttachedToDOM",["ErrorUtils","containsNode","killswitch"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function c(){__p&&__p();var a=new Map(),c=new MutationObserver(d);function d(c){c.some(function(c){return Array.from(c.addedNodes).some(function(c){a.forEach(function(a,d){b("containsNode")(c,d)&&a.forEach(function(a){g(d,a),b("ErrorUtils").applyWithGuard(a)})});return a.size===0})})}function e(a){return b("containsNode")(document.documentElement,a)}function f(b,d){a.size===0&&c.observe(document,{childList:!0,subtree:!0});var e=a.get(b);e==null&&(e=[],a.set(b,e));e.push(d)}function g(b,d){var e=a.get(b);if(e){d=e.indexOf(d);d!==-1&&e.splice(d,1);e.length===0&&a["delete"](b);a.size===0&&c.disconnect()}}return function(a,b){__p&&__p();if(e(a)){b();return{remove:function(){}}}f(a,b);var c=!1;return{remove:function(){if(c)return;c=!0;g(a,b)}}}}b("killswitch")("ON_ATTACHED_TO_DOM_HELPER")||a.MutationObserver==null?e.exports=null:e.exports=c()}),null);
__d("UFI2VPVDLoggedComponent.react",["cx","invariant","Banzai","Parent","React","ReactDOM","UFI2ActiveLayerMonitor","UFI2UserActivityMonitor","collectDataAttributes","containsNode","getFBAlphaConsoleSize","getSharedStopwatch","gkx","injectSubscriptionsHandler.react","intersectionObserverEntryIsIntersecting","observeIntersection","onAttachedToDOM","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],j=200,k={height:0};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1="HIDDEN",d.$4=!1,d.$7=b("UFI2UserActivityMonitor").getActivityState(),d.$8="div",d.$11=function(a,c){return d.$5?b("collectDataAttributes")(d.$5,a,c):null},d.$12=function(a){d.$4=b("containsNode")(a,d.$5),d.$13()},d.$14=function(a){if(b("intersectionObserverEntryIsIntersecting")(a)===!1)d.$1="HIDDEN";else{var c=a.boundingClientRect,e=a.intersectionRect,f=a.rootBounds;c=c||k;e=e||k;f=f||k;e.height>=j||e.height>=f.height/2||e.height===c.height||a.intersectionRatio>.95&&a.intersectionRatio<=1?d.$1="VISIBLE":d.$1="HIDDEN"}d.$13()},d.$15=function(a){var c=a instanceof HTMLDivElement?a:b("ReactDOM").findDOMNode(a);c==null||c instanceof HTMLDivElement||h(0,5279);d.$5!==c&&(d.$2!=null&&(d.$2.remove(),delete d.$2),d.$3!=null&&(d.$3.remove(),delete d.$3));c&&(b("onAttachedToDOM")?d.$2=b("onAttachedToDOM")(c,function(){d.$3&&d.$3.remove(),d.$16(c)}):d.$16(c));d.$5=c},d.$17=function(a){d.$7=a,d.$13()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$13=function(){__p&&__p();var a=this.$6;if(this.$1==="HIDDEN"||this.$4===!1||this.$7==="INACTIVE"){if(a==null)return;if(!a.isSharedWithOtherClients()){var c=a.getMilliseconds();this.props.onLogDuration(c,this.$11)}a.dispose();this.$6=null}else a==null&&(this.$6=a=b("getSharedStopwatch")(this.props.contentIdentifier)),a.start()};d.$16=function(a){this.$4=b("containsNode")(b("UFI2ActiveLayerMonitor").getLastActiveLayer(),a);var c=b("Parent").byClass(a,"uiScrollableAreaWrap"),d=c==null?"-44px 0px -"+b("getFBAlphaConsoleSize")().height+"px 0px":"0px";this.$3=b("observeIntersection")(a,this.$14,{root:c instanceof HTMLElement?c:null,rootMargin:d,threshold:i})};d.componentDidMount=function(){__p&&__p();var a=this;this.props.subscriptionsHandler.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){a.$1="HIDDEN",a.$13()}),b("UFI2UserActivityMonitor").subscribe(this.$17),b("UFI2ActiveLayerMonitor").subscribe(this.$12));var c=this.props.domAttachmentEventEmitter;c&&this.props.subscriptionsHandler.addSubscriptions(c.addListener("inserted",function(){var b=a.$5;if(b==null)return;a.$2&&(a.$2.remove(),delete a.$2);a.$3&&a.$3.remove();a.$16(b)}))};d.componentWillUnmount=function(){this.$1="HIDDEN",this.$2&&(this.$2.remove(),delete this.$2),this.$3&&(this.$3.remove(),delete this.$3),this.$13()};d.render=function(){var a=this.$8;return b("React").createElement(a,{ref:this.$15},this.props.children)};return c}(b("React").Component);e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("UFI2CommentDefaultLayout.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.childrenForLayout;var c=a.actionLinks,d=a.firstContentElement,e=a.menu;a=a.otherContentElements;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",null,b("React").createElement("div",{className:"_6c7i"},d),b("React").createElement("div",{className:"_6c7j"},e)),a.length>0&&b("React").createElement("div",{className:"_4eeo"},a),c)}e.exports=a}),null);
__d("UFI2BanActorMutation",["RelayModern","forEachUFI2DisplayCommentsConnection","UFI2BanActorMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("UFI2BanActorMutation.graphql")};e.exports={commit:function(a,c){__p&&__p();var d=c.actorId,e=c.feedbackId,f=c.pageId,i=c.targetUserId,j=c.undoBan;c.feedbackSource;return g(a,{mutation:h,optimisticResponse:{feedback_page_ban:{}},updater:function(a){__p&&__p();if(e==null)return;var c=a.get(e);if(!c)return;b("forEachUFI2DisplayCommentsConnection")(a,c,function(a){__p&&__p();a=a.getLinkedRecords("edges");if(!a)return;a.forEach(function(a){__p&&__p();if(!a)return;a=a.getLinkedRecord("node");if(!a)return;var b=a.getLinkedRecord("author");if(!b)return;if(b.getValue("id")===i){b=a.getValue("is_hidden_by_content_owner");a.setValue(j&&b!==!0?"none":"spam","spam_display_mode");a.setValue(!j,"is_author_banned_by_content_owner")}})})},variables:{input:{actor_id:d,ban_action:j?"UNDO_BAN":"BAN",page_id:f,target_user_id:i}}})}}}),null);
__d("UFI2RemovePreviewMutation",["RelayModern","UFI2RemovePreviewMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("UFI2RemovePreviewMutation.graphql")};function a(a,b){var c={comment_id:b.commentID};c={input:babelHelpers["extends"]({},c,{actor_id:b.actorID})};b={comment_delete_attachment:{comment:{attached_story:null,attachments:[],can_viewer_disable_preview:!1,id:b.commentID}}};return g(a,{mutation:h,optimisticResponse:b,variables:c})}e.exports={commit:a}}),null);
__d("UFI2UnhideCommentMutation",["RelayModern","UFI2UnhideCommentMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("UFI2UnhideCommentMutation.graphql")};function a(a,b){return g(a,{mutation:h,optimisticResponse:{comment_unhide:{comment:{id:b.commentId,spam_display_mode:"none"}}},variables:{input:{actor_id:b.actorId,comment_id:b.commentId,feedback_source:b.feedbackSource,site:"www"}}})}e.exports={commit:a}}),null);
__d("UFI2FeedbackCommentReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","UFI2FeedbackCommentReactSubscription_feedback.graphql","UFI2FeedbackCommentReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;var g=b("RelayModern").requestSubscription;(function(){return b("UFI2FeedbackCommentReactSubscription_feedback.graphql")});var h=function(){return b("UFI2FeedbackCommentReactSubscription.graphql")};b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(h,"gqls/comment_like_subscribe/top_level_feedback_id_");function a(a,c,d,e){b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.top_level_feedback_id,e);return g(a,{subscription:h,variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("UFI2FeedbackReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","UFI2FeedbackReactSubscription_feedback.graphql","UFI2FeedbackReactSubscription_liker.graphql","UFI2FeedbackReactSubscription_viewer.graphql","UFI2FeedbackReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;var g=b("RelayModern").requestSubscription;(function(){return b("UFI2FeedbackReactSubscription_feedback.graphql")});(function(){return b("UFI2FeedbackReactSubscription_liker.graphql")});(function(){return b("UFI2FeedbackReactSubscription_viewer.graphql")});var h=function(){return b("UFI2FeedbackReactSubscription.graphql")};b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(h,"gqls/feedback_like_subscribe/feedback_id_");function a(a,c,d,e){__p&&__p();b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.feedback_id,e);return g(a,{subscription:h,updater:function(a,b){__p&&__p();var c,d;c=(c=b.feedback_like_subscribe)==null?void 0:(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null?void 0:(d=d.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id;if(c!==d){b=(c=b.feedback_like_subscribe)==null?void 0:(d=c.feedback)==null?void 0:d.id;if(b){c=a.get(b);c&&c.setValue(!0,"is_unseen")}}},variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("getUFI2SelectorOptionFromViewOption",["fbt","FBLogger"],(function(a,b,c,d,e,f,g){__p&&__p();e.exports=function(a){__p&&__p();var c,d;switch(a){case"TOPLEVEL":c=g._("\u0627\u0644\u0623\u0642\u062f\u0645");d=g._("\u062a\u0638\u0647\u0631 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u062d\u0633\u0628 \u0627\u0644\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0632\u0645\u0646\u064a \u0645\u0639 \u0639\u0631\u0636 \u0623\u0642\u062f\u0645 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0623\u0648\u0644\u0627\u064b.");break;case"RANKED_THREADED":c=g._("\u0627\u0644\u0623\u0643\u062b\u0631 \u0635\u0644\u0629");d=g._("\u062a\u0638\u0647\u0631 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0627\u0644\u0648\u0627\u0631\u062f\u0629 \u0645\u0646 \u0627\u0644\u0623\u0635\u062f\u0642\u0627\u0621 \u0648\u062a\u0644\u0643 \u0627\u0644\u062a\u064a \u062d\u0642\u0642\u062a \u0623\u0639\u0644\u0649 \u0645\u0639\u062f\u0644 \u0645\u0634\u0627\u0647\u062f\u0627\u062a \u0648\u062a\u0641\u0627\u0639\u0644\u0627\u062a \u0648\u0631\u062f\u0648\u062f \u0648\u063a\u064a\u0631 \u0630\u0644\u0643 \u0623\u0648\u0644\u0627\u064b.");break;case"RANKED_UNFILTERED":c=g._("\u0643\u0644 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a");d=g._("\u064a\u062a\u0645 \u0639\u0631\u0636 \u0643\u0644 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a\u060c \u0628\u0645\u0627 \u0641\u064a \u0630\u0644\u0643 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0628\u0627\u0644\u0644\u063a\u0627\u062a \u0627\u0644\u0623\u062c\u0646\u0628\u064a\u0629 \u0648\u0627\u0644\u0645\u062d\u062a\u0648\u0649 \u063a\u064a\u0631 \u0627\u0644\u0645\u0647\u0645 \u0623\u0648 \u0627\u0644\u0627\u062d\u062a\u064a\u0627\u0644\u064a.");break;case"RECENT_ACTIVITY":c=g._("\u062c\u062f\u064a\u062f");d=g._("\u062a\u0638\u0647\u0631 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u0648\u062a\u0644\u0643 \u0627\u0644\u062a\u064a \u0639\u0644\u064a\u0647\u0627 \u0631\u062f\u0648\u062f \u062c\u062f\u064a\u062f\u0629 \u0623\u0648\u0644\u0627\u064b.");break;case"LIVE_STREAMING":c=g._("\u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0627\u0644\u0641\u0648\u0631\u064a\u0629");d=g._("\u062a\u0638\u0647\u0631 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0641\u064a \u0627\u0644\u0648\u0642\u062a \u0630\u0627\u062a\u0647 \u0627\u0644\u0630\u064a \u062a\u0638\u0647\u0631 \u0628\u0647 \u0641\u064a \u0627\u0644\u0641\u064a\u062f\u064a\u0648.");break;case"SUPPORTERS_COMMENTS":c=g._("\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0645\u0642\u062f\u0645\u064a \u0627\u0644\u062f\u0639\u0645");d=g._("\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0645\u0642\u062f\u0645\u064a \u0627\u0644\u062f\u0639\u0645");break;case"CHRONOLOGICAL":case"FEATURED":case"SURVEY_GALLERY":default:b("FBLogger")("ufi2").mustfix("Translation missing for WebCommentViewOption `%s`.",a);return null}return{description:d,name:c,value:a}}}),null);
__d("getViewportViewDurationPropertiesFromTrackingData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a=a(["ft"],["data-referrer"]);return{isPageComment:(a==null?void 0:(b=a.ft)==null?void 0:b.page_id)!=null,isSponsored:!!(a==null?void 0:(b=a.ft)==null?void 0:b.is_sponsored),mfStoryKey:(a==null?void 0:(b=a.ft)==null?void 0:b.mf_story_key)||void 0,pageInsights:(a==null?void 0:(b=a.ft)==null?void 0:b.page_insights)||void 0,qid:(a==null?void 0:(b=a.ft)==null?void 0:b.qid)||void 0,referrerSource:(a==null?void 0:(b=a.normal)==null?void 0:b["data-referrer"])||void 0}}e.exports=a}),null);
__d("isCommentFresh",["RelayModern","isCommentFresh_comment.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;(function(){return b("isCommentFresh_comment.graphql")});function a(a){return a.is_locally_composed===!0||a.is_created_from_subscription===!0}e.exports=a}),null);
__d("isCommentTokenOrFBID",["RelayModern","isCommentTokenOrFBID_comment.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;(function(){return b("isCommentTokenOrFBID_comment.graphql")});function a(a,b){return a!=null&&(a===b.id||a===b.legacy_fbid)}e.exports=a}),null);
__d("logCommentViewportViewDuration",["Banzai","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.commentID,d=a.isLivePinnedComment,e=a.isPageComment,f=a.isReply,g=a.isSponsored,h=a.mfStoryKey,i=a.milliseconds,j=a.pageInsights,k=a.qid,l=a.referrerSource;a=a.storyRenderLocation;if(i<100)return;a=babelHelpers["extends"]({container_module:a,duration_ms:i,is_live_pinned_comment:d,is_on_sponsored_story:g,is_page_comment:e,is_reply:f},h!=null?{mf_story_key:h}:null,{node_token:c},j!=null?{page_insights:j}:null,k!=null?{qid:k}:null,l!=null?{referrer_source:l}:null);b("Banzai").post("comment_vpvd",a)}e.exports=a}),null);